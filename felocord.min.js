"use strict";(()=>{var fp=Object.create;var ga=Object.defineProperty;var cp=Object.getOwnPropertyDescriptor;var mp=Object.getOwnPropertyNames;var dp=Object.getPrototypeOf,pp=Object.prototype.hasOwnProperty;var h=(e,r)=>()=>(e&&(r=e(e=0)),r);var jr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),F=(e,r)=>{for(var t in r)ga(e,t,{get:r[t],enumerable:!0})},uf=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=mp(r),a=0,u=n.length,f;a<u;a++)f=n[a],!pp.call(e,f)&&f!==t&&ga(e,f,{get:(c=>r[c]).bind(null,f),enumerable:!(o=cp(r,f))||o.enumerable});return e};var k=(e,r,t)=>(t=e!=null?fp(dp(e)):{},uf(r||!e||!e.__esModule?ga(t,"default",{value:e,enumerable:!0}):t,e)),Ge=e=>uf(ga({},"__esModule",{value:!0}),e);var p,s=h(()=>{"use strict";p=Symbol("Symbol.asyncIterator")});var hp,gp,vp,d,l=h(()=>{"use strict";hp=e=>({status:"fulfilled",value:e}),gp=e=>({status:"rejected",reason:e}),vp=e=>Promise.resolve(e).then(hp,gp),d=Promise.allSettled??=e=>Promise.all(Array.from(e).map(vp))});function ff(e,r,t,o,n,a,u){try{var f=e[a](u),c=f.value}catch(b){t(b);return}f.done?r(c):Promise.resolve(c).then(o,n)}function _(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function u(c){ff(a,o,n,u,f,"next",c)}function f(c){ff(a,o,n,u,f,"throw",c)}u(void 0)})}}var fe=h(()=>{s();l()});var va=jr((zv,pf)=>{s();l();var Mi=Object.defineProperty,yp=Object.getOwnPropertyDescriptor,_p=Object.getOwnPropertyNames,xp=Object.prototype.hasOwnProperty,Sp=(e,r)=>{for(var t in r)Mi(e,t,{get:r[t],enumerable:!0})},bp=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!xp.call(e,u)&&u!==t&&Mi(e,u,{get:()=>r[u],enumerable:!(o=yp(r,u))||o.enumerable})};for(var a of _p(r))n(a)}return e},Ep=e=>bp(Mi({},"__esModule",{value:!0}),e),cf={};Sp(cf,{after:()=>Ip,before:()=>Ap,instead:()=>Cp,unpatchAll:()=>wp});pf.exports=Ep(cf);var mf=["a","b","i"],Xt=new Map;function Tp(e,r,t,o,n){var a=Xt.get(r)?.[e];if(!a)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of a.b.values()){var f=u.call(o,t);Array.isArray(f)&&(t=f)}var c=[...a.i.values()].reduce((m,C)=>(...P)=>C.call(o,P,m),(...m)=>n?Reflect.construct(a.o,m,o):a.o.apply(o,m))(...t);for(var b of a.a.values())c=b.call(o,t,c)??c;return c}function df(e,r,t,o){var n=Xt.get(e),a=n?.[r];if(!a?.[o].has(t))return!1;if(a[o].delete(t),mf.every(f=>a[f].size===0)){var u=Reflect.defineProperty(e,r,{value:a.o,writable:!0,configurable:!0});u||(e[r]=a.o),delete n[r]}return Object.keys(n).length==0&&Xt.delete(e),!0}function wp(){for(var[e,r]of Xt.entries())for(var t in r)for(var o of mf)for(var n of r[t]?.[o].keys()??[])df(e,t,n,o)}var Bi=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);Xt.has(t)||Xt.set(t,Object.create(null));var a=Xt.get(t);if(!a[r]){var u=t[r];a[r]={o:u,b:new Map,i:new Map,a:new Map};var f=(P,j,ne)=>{var ye=Tp(r,t,j,P,ne);return n&&C(),ye},c=new Proxy(u,{apply:(P,j,ne)=>f(j,ne,!1),construct:(P,j)=>f(u,j,!0),get:(P,j,ne)=>j=="toString"?u.toString.bind(u):Reflect.get(P,j,ne)}),b=Reflect.defineProperty(t,r,{value:c,configurable:!0,writable:!0});b||(t[r]=c)}var m=Symbol(),C=()=>df(t,r,m,e);return a[r][e].set(m,o),C},Ap=Bi("b"),Cp=Bi("i"),Ip=Bi("a")});var hf={};F(hf,{BundleUpdaterManager:()=>Qt,ClientInfoManager:()=>Jt,DeviceManager:()=>Zt,FileManager:()=>ee,MMKVManager:()=>Ur,ThemeManager:()=>ji});var $e,Ur,ee,Jt,Zt,Qt,ji,rt=h(()=>{"use strict";s();l();$e=window.nativeModuleProxy,Ur=$e.NativeCacheModule??$e.MMKVManager,ee=$e.NativeFileModule??$e.RTNFileManager??$e.DCDFileManager,Jt=$e.NativeClientInfoModule??$e.RTNClientInfoManager??$e.InfoDictionaryManager,Zt=$e.NativeDeviceModule??$e.RTNDeviceManager??$e.DCDDeviceManager,{BundleUpdaterManager:Qt}=$e,ji=$e.NativeThemeModule??$e.RTNThemeManager??$e.DCDTheme});function eo(e){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(e)}var Ui=h(()=>{s();l()});function en(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(en=function(){return!!e})()}var ki=h(()=>{s();l()});function gf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vf=h(()=>{s();l()});function yf(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var _f=h(()=>{s();l()});function xf(e,r){return r&&(yf(r)==="object"||typeof r=="function")?r:gf(e)}var Sf=h(()=>{s();l();vf();_f()});function xt(e,r,t){return r=eo(r),xf(e,en()?Reflect.construct(r,t||[],eo(e).constructor):r.apply(e,t))}var ya=h(()=>{s();l();Ui();ki();Sf()});function ar(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var rn=h(()=>{s();l()});function St(e,r){return St=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},St(e,r)}var _a=h(()=>{s();l()});function bt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&St(e,r)}var xa=h(()=>{s();l();_a()});function tn(e,r,t){return en()?tn=Reflect.construct:tn=function(n,a,u){var f=[null];f.push.apply(f,a);var c=Function.bind.apply(n,f),b=new c;return u&&St(b,u.prototype),b},tn.apply(null,arguments)}var bf=h(()=>{s();l();ki();_a()});function Ef(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Tf=h(()=>{s();l()});function Sa(e){var r=typeof Map=="function"?new Map:void 0;return Sa=function(o){if(o===null||!Ef(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return tn(o,arguments,eo(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),St(n,o)},Sa(e)}var wf=h(()=>{s();l();bf();Ui();Tf();_a()});function on(e,r,{signal:t,edges:o}={}){var n=void 0,a=null,u=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),c=()=>{a!==null&&(e.apply(n,a),n=void 0,a=null)},b=()=>{f&&c(),j()},m=null,C=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,b()},r)},P=()=>{m!==null&&(clearTimeout(m),m=null)},j=()=>{P(),n=void 0,a=null},ne=()=>{P(),c()},ye=function(...Br){if(!t?.aborted){n=this,a=Br;var _t=m==null;C(),u&&_t&&c()}};return ye.schedule=C,ye.cancel=j,ye.flush=ne,t?.addEventListener("abort",j,{once:!0}),ye}var Af=h(()=>{s();l()});function Hi(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var Cf=h(()=>{s();l()});var ba=h(()=>{s();l();Af();Cf()});var Et,kr,Vi=h(()=>{"use strict";s();l();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(Et||(Et={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(kr||(kr={}))});var to={};F(to,{_patcherDelaySymbol:()=>nn,after:()=>Z,before:()=>ro,default:()=>an,instead:()=>Tt});function Gi(e){function r(...o){if(nn in o[1]){var n=o[1][nn],a=!1,u=()=>a=!0;return n(f=>{a||(o[1]=f,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var a=!1,u=()=>a=!0;return n.then(f=>{a||(o[1]=f,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var Rp,Pp,Np,nn,Z,ro,Tt,an,ze=h(()=>{"use strict";s();l();({after:Rp,before:Pp,instead:Np}=va()),nn=Symbol.for("felocord.api.patcher.delay");Z=Gi(Rp),ro=Gi(Pp),Tt=Gi(Np),an={after:Z,before:ro,instead:Tt}});var un={};F(un,{assetsMap:()=>wt,findAsset:()=>ln,findAssetId:()=>y,patchAssets:()=>Lp});function Lp(e){if(!sn){sn=e;var r=Z("registerAsset",sn,([t])=>{var o=$i();o!==-1&&zi(t.name,o)});return r}}function ln(e){return typeof e=="number"?sn.getAssetByID(e):typeof e=="string"?wt[e]:Object.values(wt).find(e)}function y(e){return wt[e]?.index}var wt,sn,ie=h(()=>{"use strict";s();l();ze();no();oo();wt=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=Hr().assetsIndex[r];if(t!=null){for(var o in t){var n=mr(Number(o));if(typeof n=="number"){var a=sn.getAssetByID(n);a&&(a.index??=a.id??=n,a.moduleId??=o,e[r]??=a)}}return e[r]}}},ownKeys(e){var r=[];for(var t in Hr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function If(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Sr(e,r,t){return r&&If(e.prototype,r),t&&If(e,t),e}var fn=h(()=>{s();l()});function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Yi=h(()=>{s();l()});var Ki,Ea,Wi=h(()=>{"use strict";s();l();rn();fn();Yi();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Ki||(Ki={}));Ea=function(){"use strict";function e(){ar(this,e),cn(this,"listeners",Object.values(Ki).reduce((r,t)=>(r[t]=new Set,r),{}))}return Sr(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(a,u)=>{this.off(a,n),o(a,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var mn={};F(mn,{createFilterDefinition:()=>dr,createSimpleFilter:()=>Op});function dr(e,r){function t(n,a,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(a)].filter(Boolean).join("")})}var o=n=>(...a)=>t((u,f,c)=>e(a,u,f,c),a,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function Op(e,r){return dr((t,o)=>e(o),()=>`dynamic::${r}`)()}var Ta=h(()=>{"use strict";s();l()});var qi={};F(qi,{byDisplayName:()=>Ct,byFilePath:()=>Aa,byMutableProp:()=>pn,byName:()=>At,byProps:()=>dn,byStoreName:()=>wa,byTypeName:()=>It});var dn,At,Ct,It,wa,Aa,pn,hn=h(()=>{"use strict";s();l();Ta();oo();dn=dr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`felocord.metro.byProps(${e.join(",")})`),At=dr(([e],r)=>r.name===e,e=>`felocord.metro.byName(${e})`),Ct=dr(([e],r)=>r.displayName===e,e=>`felocord.metro.byDisplayName(${e})`),It=dr(([e],r)=>r.type?.name===e,e=>`felocord.metro.byTypeName(${e})`),wa=dr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`felocord.metro.byStoreName(${e})`),Aa=dr(([e,r],t,o,n)=>r===n&&je[o]?.__filePath===e,([e,r])=>`felocord.metro.byFilePath(${e},${r})`),pn=dr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`felocord.metro.byMutableProp(${e})`)});function Rf(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function Xi(e){var{cacheId:r,finish:t}=Ia(e.uniq,!1);for(var[o,n]of Ca(e.uniq,!1)){var{exports:a,defaultExport:u}=Rf(n,o,e);if(a!==void 0)return r(o,a),{id:o,defaultExport:u}}return t(!0),{}}function Dp(e){return Xi(e)?.id}function Ne(e){var{id:r,defaultExport:t}=Xi(e);if(r!=null)return t?mr(r).default:mr(r)}function Ji(e){var{cacheId:r,finish:t}=Ia(e.uniq,!0),o=[];for(var[n,a]of Ca(e.uniq,!0)){var{exports:u,defaultExport:f}=Rf(a,n,e);u!==void 0&&typeof f=="boolean"&&(o.push({id:n,defaultExport:f}),r(n,u))}return t(o.length===0),o}function Fp(e){return Ji(e).map(r=>r.id)}function Rt(e){return Ji(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?mr(t).default:mr(t)}})}var Ao=h(()=>{"use strict";s();l();no();oo()});var Qi={};F(Qi,{getProxyFactory:()=>Zi,lazyDestructure:()=>Y,proxyLazy:()=>Ee});function Ee(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),a=new Proxy(o,Bp);return Nf.set(a,n),Co.set(o,{factory:e,options:r}),a}function Y(e,r={}){var t=Ee(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(a,u)=>Ee(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:Ee(()=>t[n],r)}})}function Zi(e){return Nf.get(e)}var Pf,Mp,Nf,Co,Bp,Le=h(()=>{"use strict";s();l();Pf=new Set(["arguments","caller","prototype"]),Mp=e=>typeof e=="string"&&Pf.has(e),Nf=new WeakMap,Co=new WeakMap,Bp={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=Co.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=Co.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=Co.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var a=o?.factory();if(!a)throw new Error(`Trying to Reflect.get of ${typeof a}`);return Reflect.get(a,r,t)},ownKeys:e=>{var r=Co.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return Pf.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=Co.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(Mp(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var es={};F(es,{_lazyContextSymbol:()=>Ra,createLazyModule:()=>Vr,getLazyContext:()=>Of});function jp(e){var r=Hr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function Up(e,r){var t=Of(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return rs(t.moduleId,()=>{r(Ne(t.filter))})}function Of(e){return Lf.get(e)}function Vr(e){var r=void 0,t=jp(e),o={filter:e,indexed:!!t,moduleId:t,getExports(a){return!t||je[t]?.isInitialized?(a(this.forceLoad()),()=>{}):this.subscribe(a)},subscribe(a){return Up(n,a)},get cache(){return r},forceLoad(){if(r??=Ne(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=Ee(()=>o.forceLoad(),{exemptedEntries:{[Ra]:o,[nn]:a=>o.getExports(a)}});return Lf.set(n,o),n}var Ra,Lf,gn=h(()=>{"use strict";s();l();ze();Le();Ao();no();oo();Ra=Symbol.for("felocord.metro.lazyContext"),Lf=new WeakMap});var H,I,ts,Io,Ue,os,ns,as,is,ss,kp,ls,us,vn,fs,cs,se=h(()=>{"use strict";s();l();hn();Ao();gn();H=(...e)=>Ne(dn(...e)),I=(...e)=>Vr(dn(...e)),ts=(...e)=>Rt(dn(...e)),Io=(e,r=!0)=>Ne(r?At(e):At.byRaw(e)),Ue=(e,r=!0)=>Vr(r?At(e):At.byRaw(e)),os=(e,r=!0)=>Rt(r?At(e):At.byRaw(e)),ns=(e,r=!0)=>Ne(r?Ct(e):Ct.byRaw(e)),as=(e,r=!0)=>Vr(r?Ct(e):Ct.byRaw(e)),is=(e,r=!0)=>Rt(r?Ct(e):Ct.byRaw(e)),ss=(e,r=!0)=>Ne(r?It(e):It.byRaw(e)),kp=(e,r=!0)=>Vr(r?It(e):It.byRaw(e)),ls=(e,r=!0)=>Rt(r?It(e):It.byRaw(e)),us=e=>Ne(wa(e)),vn=e=>Vr(wa(e)),fs=(e,r=!1)=>Ne(Aa(e,r)),cs=(e,r=!1)=>Vr(Aa(e,r))});var Pt=jr((X_,Df)=>{"use strict";s();l();se();Df.exports={react:I("createElement"),"react-native":I("AppRegistry"),util:I("inspect","isNullOrUndefined"),moment:I("isMoment"),"chroma-js":I("brewer"),lodash:I("forEachRight"),"@shopify/react-native-skia":I("useFont")}});var oe=jr((Q_,Ff)=>{s();l();Ff.exports=Pt()["react-native"]});function yn(e={}){var r=new Ea,t=new WeakMap,o=new WeakSet;function n(a,u){return new Proxy(a,{get(f,c){if(c===jf)return r;var b=[...u,c],m=f[c];if(m!=null){if(r.emit("GET",{path:b,value:m}),typeof m=="object"){if(o.has(m))return m;if(t.has(m))return t.get(m);var C=n(m,b);return t.set(m,C),C}return m}return m},set(f,c,b){if(typeof b=="object")if(t.has(b))f[c]=t.get(b);else{var m=n(b,[...u,c]);t.set(b,m),o.add(b),f[c]=m}else f[c]=b;return r.emit("SET",{path:[...u,c],value:f[c]}),!0},deleteProperty(f,c){var b=typeof f[c]=="object"?t.get(f[c]):f[c],m=delete f[c];return m&&r.emit("DEL",{value:b,path:[...u,c]}),m}})}return{proxy:n(e,[]),emitter:r}}function K(e){var r=e?.[jf];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,a)=>{n==="DEL"&&a.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function ir(e){return ms.apply(this,arguments)}function ms(){return ms=_(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=yn(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),ms.apply(this,arguments)}function br(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(a=>a())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(a,...u)=>Reflect[n](r??a,...u)])),get(n,a,u){return a===Uf?o:Reflect.get(r??n,a,u)}})}function Nt(...e){return Promise.all(e.map(r=>new Promise(t=>r[Uf](t))))}var Bf,jf,Uf,Mf,ds,kf,Pa,Er,ao,he=h(()=>{"use strict";s();l();fe();Wi();rt();Bf=k(oe()),jf=Symbol.for("vendetta.storage.emitter"),Uf=Symbol.for("vendetta.storage.accessor");Mf=/[<>:"/\\|?*]/g,ds=e=>Bf.Platform.select({default:e,ios:ee.saveFileToGallery?e:`Documents/${e}`}),kf=e=>(Mf.test(e)&&(e=e.replace(Mf,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Pa=function(){var e=_(function*(r){(yield Ur.getItem(r))&&Ur.removeItem(r);var t=kf(r);(yield ee.fileExists(`${ee.getConstants().DocumentsDirPath}/${t}`))&&(yield ee.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),Er=(e,r={})=>{var t=kf(e),o=JSON.stringify(r);return ao(t,r,_(function*(){var n=`${ee.getConstants().DocumentsDirPath}/${t}`;if(!(yield ee.fileExists(n))){var a=(yield Ur.getItem(e))??o;if(a==="!!LARGE_VALUE!!"){var u=`${ee.getConstants().CacheDirPath}/mmkv/${e}`;(yield ee.fileExists(u))?a=yield ee.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=o)}try{JSON.parse(a)}catch{console.error(`${e} had an unparseable data while migrating`),a=o}yield ee.writeFile("documents",ds(t),a,"utf8"),(yield Ur.getItem(e))!==null&&(Ur.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},ao=(e,r={},t)=>({get:_(function*(){yield t;var o=`${ee.getConstants().DocumentsDirPath}/${e}`;if(yield ee.fileExists(o)){var n=yield ee.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield ee.writeFile("documents",ds(e),JSON.stringify(r),"utf8"),JSON.parse(yield ee.readFile(o,"utf8"))}),set:function(){var o=_(function*(n){yield t,yield ee.writeFile("documents",ds(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var _s={};F(_s,{BUNNY_PROXY_PREFIX:()=>io,DISCORD_SERVER:()=>ps,GITHUB:()=>hs,HTTP_REGEX:()=>Vp,HTTP_REGEX_MULTI:()=>gs,OFFICIAL_PLUGINS_REPO_URL:()=>_n,OLD_BUNNY_PROXY_PREFIX:()=>Gp,VD_DISCORD_SERVER_ID:()=>vs,VD_PLUGINS_CHANNEL_ID:()=>ys,VD_PROXY_PREFIX:()=>Tr,VD_THEMES_CHANNEL_ID:()=>xn});var ps,hs,Vp,gs,io,Gp,_n,Tr,vs,ys,xn,Lt=h(()=>{"use strict";s();l();ps="https://discord.gg/DRCzRpu3vG",hs="https://github.com/Felocord",Vp=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,gs=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,io="https://bn-plugins.github.io/vd-proxy",Gp="https://felocord-mod.github.io/plugins-proxy",_n="https://bn-plugins.github.io/dist/repo.json",Tr="https://vd-plugins.github.io/proxy",vs="1015931589865246730",ys="1091880384561684561",xn="1091880434939482202"});function Na(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,a;n<e.length;n++)a=e.charCodeAt(n),t=Math.imul(t^a,2654435761),o=Math.imul(o^a,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function Hf(e,r=0){var[t,o]=Na(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var xs=h(()=>{"use strict";s();l()});function pr(e,r){return so(e,r,{walkable:["props","children","child","sibling"]})}var Vf=h(()=>{"use strict";s();l();wr()});function Ss(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var a=Ss(n,r,t,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var f=Ss(e[u],r,t,o+1);if(f)return f}catch{}}}}function so(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={}){return Ss(e,r,{walkable:t,ignore:o,maxDepth:n},0)}var Gf=h(()=>{"use strict";s();l()});function bs(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(a){n=t(a)??a},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var $f=h(()=>{"use strict";s();l()});function Es(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var zf=h(()=>{"use strict";s();l()});var Ts={};F(Ts,{LoggerClass:()=>Sn,logger:()=>ke});var Sn,ke,tt=h(()=>{"use strict";s();l();se();Sn=Ue("Logger"),ke=new Sn("Felocord")});function Ye(e,r){return ws.apply(this,arguments)}function ws(){return ws=_(function*(e,r,t=1e4){var o=yield fetch(e,{signal:$p(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),ws.apply(this,arguments)}function $p(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var Yf=h(()=>{"use strict";s();l();fe()});var La={};F(La,{constants:()=>_s,cyrb64:()=>Na,findInReactTree:()=>pr,findInTree:()=>so,hookDefineProperty:()=>bs,invariant:()=>Es,lazy:()=>Qi,logger:()=>Ts,safeFetch:()=>Ye});var wr=h(()=>{"use strict";s();l();Lt();xs();Vf();Gf();$f();zf();Le();tt();Yf()});var Oa=jr((kx,Kf)=>{s();l();Kf.exports=Pt()["chroma-js"]});var co={};F(co,{applyTheme:()=>bn,color:()=>_e,fetchTheme:()=>uo,getCurrentTheme:()=>Fa,getThemeFromLoader:()=>Dt,initThemes:()=>Fs,installTheme:()=>ot,patchChatBackground:()=>Ds,removeTheme:()=>fo,selectTheme:()=>nt,themes:()=>le,updateThemes:()=>Da});function As(e){return Cs.apply(this,arguments)}function Cs(){return Cs=_(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield ao(rc()||"theme.json").set(e)}),Cs.apply(this,arguments)}function Ds(){var e=[Z("default",Yp,(r,t)=>Ot?React.createElement(Ro.ImageBackground,{style:{flex:1,height:"100%"},source:Xe?.data?.background?.url&&{uri:Xe.data.background.url}||0,blurRadius:typeof Xe?.data?.background?.blur=="number"?Xe?.data?.background?.blur:0,children:t}):t),Z("render",Kp.prototype,(r,t)=>{if(!(!Ot||!Xe?.data?.background?.url)){var o=pr(t,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,lo.default)(o.props.style.backgroundColor||"black").alpha(1-(Xe?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(r=>r())}function Zf(e){if(lo.default.valid(e))return(0,lo.default)(e).hex();var r=Number((0,Ro.processColor)(e));return lo.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function qp(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Zf(r[t][o])}if(e.rawColors){var{rawColors:n}=e;for(var a in n)e.rawColors[a]=Zf(n[a]);Ro.Platform.OS==="android"&&Xp(n)}return e.spec??=2,e}function Xp(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,lo.default)(e[o]).alpha(n).hex())}}function uo(e){return Is.apply(this,arguments)}function Is(){return Is=_(function*(e,r=!1){var t;try{t=yield(yield Ye(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}le[e]={id:e,selected:r,data:qp(t)},r&&(As(le[e]),bn(le[e],Te))}),Is.apply(this,arguments)}function ot(e){return Rs.apply(this,arguments)}function Rs(){return Rs=_(function*(e){if(typeof e!="string"||e in le)throw new Error("Theme already installed");yield uo(e)}),Rs.apply(this,arguments)}function nt(e,r=!0){if(e&&(e.selected=!0),Object.keys(le).forEach(t=>le[t].selected=le[t].id===e?.id),e==null&&r)return As({});if(e)return As(e)}function fo(e){return Ps.apply(this,arguments)}function Ps(){return Ps=_(function*(e){var r=le[e];return r.selected&&(yield nt(null)),delete le[e],r.selected}),Ps.apply(this,arguments)}function Dt(){return Ma()}function Da(){return Ns.apply(this,arguments)}function Ns(){return Ns=_(function*(){yield Nt(le);var e=Dt();yield d(Object.keys(le).map(r=>uo(r,e?.id===r)))}),Ns.apply(this,arguments)}function Fa(){return Xe}function Os(e){return Zp.has(e)}function Qp(){var e=([r])=>r===Ar?[Te]:void 0;Object.keys(_e.RawColor).forEach(r=>{Object.defineProperty(_e.RawColor,r,{configurable:!0,enumerable:!0,get:()=>Ot?Xe?.data?.rawColors?.[r]??Qf[r]:Qf[r]})}),ro("isThemeDark",Jf,e),ro("isThemeLight",Jf,e),ro("updateTheme",ji,e),Z("get",Wf,([r],t)=>{r==="SelectivelySyncedUserSettingsStore"?(Ls=!0,t?._state?.appearance?.settings?.theme&&Ot&&(Te=t._state.appearance.settings.theme,t._state.appearance.settings.theme=Ar)):r==="ThemeStore"&&(Ls=!0,t?._state?.theme&&Ot&&(Te=t._state.theme,t._state.theme=Ar))}),ro("set",Wf,r=>{if(r[1]){var t=r[0],o=JSON.parse(JSON.stringify(r[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:a}=o._state?.appearance?.settings??{};Os(a)?Te=a:o._state.appearance.settings.theme=Te}},ThemeStore:()=>{if(o._state?.theme){var{theme:a}=o._state;Os(a)?Te=a:o._state.theme=Te}}};return t in n?(n[t](),[t,o]):r}}),Tt("resolveSemanticColor",_e.default.meta??_e.default.internal,(r,t)=>{if(!Ot||!Xe)return t(...r);if(r[0]!==Ar)return t(...r);r[0]=Te;var[o,n]=ec(Te,r[1]),a=Te==="midnight"?2:Te==="light"?1:0;var u=Wp[o]??o,f=(Xe.data?.semanticColors?.[o]??Xe.data?.semanticColors?.[u])?.[a];if(f)return f;var c=Xe.data?.rawColors?.[n.raw];return c?n.opacity===1?c:(0,lo.default)(c).alpha(n.opacity).hex():t(...r)})}function eh(e=Te){var r=zp.theme.toLowerCase();return Os(r)?r:e}function bn(e,r){r||(r=eh()),Xe=e,Ot=!!Xe,Te=r,Ar=`vd-theme-${Jp++}-${r}`,e&&(_e.Theme[Ar.toUpperCase()]=Ar,Xf.DIVIDER_COLORS[Ar]=Xf.DIVIDER_COLORS[Te],Object.keys(_e.Shadow).forEach(t=>_e.Shadow[t][Ar]=_e.Shadow[t][Te]),Object.keys(_e.SemanticColor).forEach(t=>{_e.SemanticColor[t][Ar]={..._e.SemanticColor[t][Te],override:e?.data?.semanticColors?.[t]?.[0]}})),Ls&&(qf.setShouldSyncAppearanceSettings(!1),qf.updateTheme(e?Ar:r))}function Fs(){var e=Dt();Ot=!!e,Qp(),bn(e,Te),Da().catch(r=>console.error("Failed to update themes",r))}function ec(e,r){var t=r[ec._sym??=Object.getOwnPropertySymbols(r)[0]],o=_e.SemanticColor[t];return[t,o[e]]}var lo,Ro,_e,Wf,qf,zp,Xf,Yp,Kp,Jf,le,Wp,Qf,Jp,Ar,Te,Ot,Xe,Ls,Zp,sr=h(()=>{"use strict";s();l();fe();he();Gr();rt();ze();wr();Le();hn();gn();se();lo=k(Oa()),Ro=k(oe());_e=I("SemanticColor"),Wf=Ee(()=>{var e=H("impl");return typeof e?.impl=="object"?e.impl:H("storage")}),qf=I("updateTheme"),zp=vn("ThemeStore"),Xf=I("DIVIDER_COLORS"),Yp=Ue("MessagesWrapperConnected",!1),{MessagesWrapper:Kp}=Y(()=>H("MessagesWrapper")),Jf=Vr(pn("isThemeDark")),le=br(ir(Er("VENDETTA_THEMES"))),Wp={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};Qf={..._e.RawColor},Jp=0,Ar="vd-theme",Te="darker",Ot=!1,Ls=!1,Zp=new Set(["darker","midnight","dark","light"])});function Je(){return $r!=null}function we(){return at!=null}function rh(){if(!we()||Je())return null;var e={name:at.loaderName,features:{}};return js()&&(e.features.loaderConfig=!0),ac()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>th(),configurable:!0})),Cr()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=Ma()?.id;if(!r)return null;var{themes:t}=(sr(),Ge(co));return t[r]??Ma()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Ms(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:rh()}function Bs(){return we()?at.loaderName:Je()?$r.name:"Unknown"}function tc(){return we()?at.loaderVersion:null}function js(){return we()?!0:Je()?$r.features.loaderConfig:!1}function Cr(){return we()?at.hasThemeSupport:Je()?$r.features.themes!=null:!1}function Ma(){if(we())return at.storedTheme;if(Je()){var e=$r.features.themes?.prop;return e&&globalThis[e]||null}return null}function rc(){return we()?"felitendo/current-theme.json":Je()?"vendetta_theme.json":null}function En(){return we()?!!window.__reactDevTools:Je()?$r.features.devtools!=null:!1}function oc(){return En()?we()?(window.__felitendo_rdt=window.__reactDevTools.exports,"__felitendo_rdt"):Je()?$r.features.devtools.prop:null:null}function nc(){return En()?we()?window.__reactDevTools.version||null:Je()?$r.features.devtools.version:null:null}function ac(){return we()?at.isSysColorsSupported:Je()?$r.features.syscolors!=null:!1}function th(){return ac()?we()?at.sysColors:Je()?$r.features.syscolors.prop:null:null}function ic(){return we()?"felitendo/loader.json":Je()?"vendetta_loader.json":"loader.json"}function sc(){return we()?at.fontPatch===2:!1}var at,$r,Gr=h(()=>{"use strict";s();l();at=globalThis.__PYON_LOADER__,$r=globalThis.__vendetta_loader;Ms()});var Ba={};F(Ba,{loaderConfig:()=>hr,settings:()=>N});var N,hr,Oe=h(()=>{"use strict";s();l();he();Gr();N=br(ir(Er("VENDETTA_SETTINGS"))),hr=br(ir(ao(ic(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/felocord.js"}})))});var Vs={};F(Vs,{default:()=>oh});var lc,fc,Us,Hs,Po,ks,it,uc,Tn,oh,Gs=h(()=>{"use strict";s();l();no();lc=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),fc={},Us={},Hs=$s("redesign_module");for([uc,Tn]of Hs.getModules())for(it of lc){if(Po=void 0,Tn[it])Po=Tn;else if(Tn.default?.[it])Po=Tn.default;else continue;ks=Reflect.ownKeys(Po).length,!(Us[it]&&ks>=Us[it])&&(fc[it]=Po[it],Us[it]=Reflect.ownKeys(Po).length,Hs.cacheId(uc),ks===1&&lc.delete(it))}Hs.finish();oh=fc});var Ks={};F(Ks,{getCachedPolyfillModules:()=>uh,getImportingModuleId:()=>$i,getModules:()=>Ca,metroModules:()=>je,requireModule:()=>mr,subscribeModule:()=>rs});function Ua(e){Object.defineProperty(je,e,{enumerable:!1}),hc.add(e),qs(Number(e))}function wn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function lh(e,r){if(Ws(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ie(),Ge(un)).patchAssets(e),!dc&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(Ys("register",e,(u,f)=>{try{return f(...u)}catch{}}),dc=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,f,c){if(f==="isDeveloper"){var{settings:b}=(Oe(),Ge(Ba));return b.enableDiscordDeveloperSettings??!1}return Reflect.get(u,f,c)}})),!mc&&e.fileFinishedImporting&&(ah("fileFinishedImporting",e,([u])=>{No===-1||!u||(je[No].__filePath=u)}),mc=!0),!cc&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&sh.apply(u,[]);window["__core-js_shared__"].inspectSource=t,cc=!0}if(e.findHostInstance_DEPRECATED){var o=je[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;je[r+n]?.isInitialized||Ua(r+n)}e.isMoment&&Ys("defineLocale",e,(u,f)=>{var c=e.locale();f(...u),e.locale(c)});var a=ja.get(Number(r));a&&(a.forEach(u=>u()),ja.delete(Number(r)))}function $i(){return No}function rs(e,r){var t=ja.get(e)??new Set;return t.add(r),ja.set(e,t),()=>t.delete(r)}function mr(e){if(je[0]?.isInitialized||zs(0),!hc.has(e)){if(Number(e)===-1)return Gs(),Ge(Vs);if(je[e]?.isInitialized&&!je[e]?.hasError)return zs(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(ih);var t;try{t=zs(e)}catch{Ua(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*Ca(e,r=!1){yield[-1,(Gs(),Ge(Vs))];var t=Hr().findIndex[e];if(r&&!t?.[`_${kr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${kr.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=mr(Number(o));wn(n)||(yield[o,n])}for(var a in je){var u=mr(Number(a));wn(u)||(yield[a,u])}}}function*uh(e){var r=Hr().polyfillIndex[e];for(var t in r){var o=mr(Number(t));wn(o)||(yield[t,o])}if(!r[`_${kr.FULL_LOOKUP}`])for(var n in je){var a=mr(Number(n));wn(a)||(yield[n,a])}}var nh,ah,Ys,je,zs,ja,hc,ih,sh,cc,mc,dc,No,pc,oo=h(()=>{"use strict";s();l();no();Vi();nh=function(e){var r=Number(e),t=je[r],o=Hr().exportsIndex[r];if(o&Et.BLACKLISTED)return Ua(r),"continue";t.factory&&Ys("factory",t,(n,a)=>{var u=No;No=r;var{1:f,4:c}=n;n[2]=b=>{var m=f(b);return m&&m.__esModule?m.default:m},n[3]=b=>{var m=f(b);if(m&&m.__esModule)return m;var C={};return m&&Object.assign(C,m),C.default=m,C},a(...n),wn(c.exports)?Ua(r):lh(c.exports,r),No=u})},{before:ah,instead:Ys}=va(),je=window.modules,zs=window.__r,ja=new Map,hc=new Set,ih=()=>{},sh=Function.prototype.toString,cc=!1,mc=!1,dc=!1,No=-1;for(pc in je)nh(pc)});var xc={};F(xc,{getCacherForUniq:()=>Ia,getMetroCache:()=>Hr,getPolyfillModuleCacher:()=>$s,indexAssetName:()=>zi,indexBlacklistFlag:()=>qs,indexExportsFlags:()=>Ws,initMetroCache:()=>fh});function gc(){var e={_v:vc,_buildNumber:Jt.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(oo(),Ge(Ks)).requireModule(r)},100),Ke=e,e}function fh(){return Xs.apply(this,arguments)}function Xs(){return Xs=_(function*(){var e=yield Ur.getItem(yc);if(e==null)return void gc();try{if(Ke=JSON.parse(e),Ke._v!==vc)throw Ke=null,"cache invalidated; cache version outdated";if(Ke._buildNumber!==Jt.Build)throw Ke=null,"cache invalidated; version mismatch";if(Ke._modulesCount!==Object.keys(window.modules).length)throw Ke=null,"cache invalidated; modules count mismatch"}catch{gc()}}),Xs.apply(this,arguments)}function _c(e){if(e){var r=Et.EXISTS;return r}}function Ws(e,r){var t=_c(r);t&&t!==Et.EXISTS&&(Ke.exportsIndex[e]=t)}function qs(e){Ke.exportsIndex[e]|=Et.BLACKLISTED}function Ia(e,r){var t=Ke.findIndex[e]??={};return{cacheId(o,n){t[o]??=_c(n),An()},finish(o){r&&(t[`_${kr.FULL_LOOKUP}`]=1),o&&(t[`_${kr.NOT_FOUND}`]=1),An()}}}function $s(e){var r=Ke.polyfillIndex[e]??={};return{getModules(){return(oo(),Ge(Ks)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,An()},finish(){r[`_${kr.FULL_LOOKUP}`]=1,An()}}}function zi(e,r){isNaN(r)||((Ke.assetsIndex[e]??={})[r]=1,An())}var vc,yc,Ke,Hr,An,no=h(()=>{"use strict";s();l();fe();rt();ba();Vi();vc=52,yc="__felocord_metro_cache_key__",Ke=null,Hr=window.__getMetroCache=()=>Ke;An=on(()=>{Ur.setItem(yc,JSON.stringify(Ke))},1e3)});var Js={};F(Js,{Fragment:()=>gr,jsx:()=>i,jsxs:()=>x});function bc(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var r=Zi(e[0]);return r&&(e[0]=r()),e}var Sc,gr,i,x,V=h(()=>{"use strict";s();l();Le();se();Sc=I("jsx","jsxs","Fragment");gr=Symbol.for("react.fragment"),i=(...e)=>Sc.jsx(...bc(e)),x=(...e)=>Sc.jsxs(...bc(e))});function ka(e){return"componentStack"in e&&typeof e.componentStack=="string"}function Ha(e){return!!e.stack}var Zs=h(()=>{"use strict";s();l()});var $a={};F($a,{ActionSheet:()=>st,ActionSheetRow:()=>Ft,BottomSheetTitleHeader:()=>sl,Button:()=>G,Card:()=>ve,CompatButton:()=>Qs,CompatSegmentedControl:()=>Eh,FlashList:()=>Ln,FloatingActionButton:()=>il,FormCheckbox:()=>yh,FormRadio:()=>al,FormSwitch:()=>nl,Forms:()=>Va,HelpMessage:()=>In,IconButton:()=>Ce,LegacyAlert:()=>Cn,LegacyForm:()=>wh,LegacyFormArrow:()=>Ah,LegacyFormCTA:()=>Ch,LegacyFormCTAButton:()=>Ih,LegacyFormCardSection:()=>Rh,LegacyFormCheckbox:()=>Ph,LegacyFormCheckboxRow:()=>Nh,LegacyFormCheckmark:()=>Lh,LegacyFormDivider:()=>Pn,LegacyFormHint:()=>Oh,LegacyFormIcon:()=>ll,LegacyFormInput:()=>ul,LegacyFormLabel:()=>Dh,LegacyFormRadio:()=>Fh,LegacyFormRadioGroup:()=>Mh,LegacyFormRadioRow:()=>Bh,LegacyFormRow:()=>Yr,LegacyFormSection:()=>Ga,LegacyFormSelect:()=>jh,LegacyFormSliderRow:()=>Uh,LegacyFormSubLabel:()=>kh,LegacyFormSwitch:()=>Hh,LegacyFormSwitchRow:()=>Vh,LegacyFormTernaryCheckBox:()=>Gh,LegacyFormText:()=>Nn,LegacyFormTitle:()=>$h,PressableScale:()=>dh,RedesignCompat:()=>_h,RowButton:()=>mh,SafeAreaProvider:()=>el,SafeAreaView:()=>Rn,SegmentedControl:()=>xh,SegmentedControlPages:()=>Sh,Stack:()=>ce,TableCheckbox:()=>vh,TableRadio:()=>gh,TableRow:()=>w,TableRowGroup:()=>De,TableRowIcon:()=>ph,TableRowTrailingText:()=>hh,TableSwitch:()=>ol,TableSwitchRow:()=>Mt,Text:()=>L,TextInput:()=>We,TwinButtons:()=>tl,useSafeAreaInsets:()=>rl,useSegmentedControlState:()=>bh});var ch,zr,Ae,Cn,Qs,In,Rn,el,rl,Ft,G,tl,Ce,mh,dh,w,ph,hh,De,Mt,ol,gh,vh,nl,al,yh,ve,_h,ce,We,xh,Sh,bh,Eh,il,st,sl,Th,L,Va,wh,Ah,Ch,Ih,Rh,Ph,Nh,Lh,Pn,Oh,ll,ul,Dh,Fh,Mh,Bh,Yr,Ga,jh,Uh,kh,Hh,Vh,Gh,Nn,$h,Ln,J=h(()=>{"use strict";s();l();Le();Ta();Ao();se();ch=dr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`felocord.metro.common.components.bySingularProp(${e})`),zr=e=>Ee(()=>Ne(ch(e))?.[e]),Ae=e=>Ee(()=>H(e)[e]),Cn=as("FluxContainer(Alert)"),Qs=I("Looks","Colors","Sizes"),In=Ue("HelpMessage"),{SafeAreaView:Rn,SafeAreaProvider:el,useSafeAreaInsets:rl}=Y(()=>H("useSafeAreaInsets")),Ft=Ae("ActionSheetRow"),G=zr("Button"),tl=Ae("TwinButtons"),Ce=zr("IconButton"),mh=Ae("RowButton"),dh=Ae("PressableScale"),w=Ae("TableRow"),ph=Ae("TableRowIcon"),hh=Ae("TableRowTrailingText"),De=Ae("TableRowGroup"),Mt=Ae("TableSwitchRow"),ol=zr("FormSwitch"),gh=zr("FormRadio"),vh=zr("FormCheckbox"),nl=zr("FormSwitch"),al=zr("FormRadio"),yh=zr("FormCheckbox"),ve=Ae("Card"),_h=Ee(()=>H("RedesignCompat").RedesignCompat),ce=Ae("Stack"),We=zr("TextInput"),xh=Ae("SegmentedControl"),Sh=Ae("SegmentedControlPages"),bh=zr("useSegmentedControlState"),Eh=Ae("CompatSegmentedControl"),il=Ae("FloatingActionButton"),st=Ae("ActionSheet"),sl=Ae("BottomSheetTitleHeader"),Th=I("Text","LegacyText"),L=Ee(()=>Th.Text),Va=I("Form","FormSection"),{Form:wh,FormArrow:Ah,FormCTA:Ch,FormCTAButton:Ih,FormCardSection:Rh,FormCheckbox:Ph,FormCheckboxRow:Nh,FormCheckmark:Lh,FormDivider:Pn,FormHint:Oh,FormIcon:ll,FormInput:ul,FormLabel:Dh,FormRadio:Fh,FormRadioGroup:Mh,FormRadioRow:Bh,FormRow:Yr,FormSection:Ga,FormSelect:jh,FormSliderRow:Uh,FormSubLabel:kh,FormSwitch:Hh,FormSwitchRow:Vh,FormTernaryCheckBox:Gh,FormText:Nn,FormTitle:$h}=Y(()=>Va),Ln=Ae("FlashList")});var Ya={};F(Ya,{Flux:()=>pl,FluxDispatcher:()=>Rr,NavigationNative:()=>de,React:()=>Fn,ReactNative:()=>za,assets:()=>fl,channels:()=>On,clipboard:()=>Fe,commands:()=>mo,components:()=>$a,constants:()=>Ir,i18n:()=>Bt,invites:()=>cl,messageUtil:()=>vr,navigation:()=>ml,navigationStack:()=>dl,semver:()=>Lo,toasts:()=>Dn,tokens:()=>lt,url:()=>jt});var Ir,On,Bt,jt,Fe,fl,cl,mo,ml,Dn,vr,dl,de,lt,Lo,pl,Rr,Fn,za,$=h(()=>{"use strict";s();l();se();J();Ir=I("Fonts","Permissions"),On=I("getVoiceChannelId"),Bt=I("Messages"),jt=I("openURL","openDeeplink"),Fe=I("setString","getString","hasString"),fl=I("registerAsset"),cl=I("acceptInviteAndTransitionToInviteChannel"),mo=I("getBuiltInCommands"),ml=I("pushLazy"),Dn=cs("modules/toast/native/ToastActionCreators.tsx",!0),vr=I("sendBotMessage"),dl=I("createStackNavigator"),de=I("NavigationContainer"),lt=I("colors","unsafe_rawColors"),Lo=I("parse","clean"),pl=I("connectStores"),Rr=H("_interceptors"),Fn=window.React=I("createElement"),za=window.ReactNative=I("AppRegistry")});var Tc,Ec=h(()=>{Tc={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Felocord",BUNNY_URL:"Felocord URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Felocord debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Felocord from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Cc(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=wc=t[r]??r;if(o.startsWith("en-")){Oo=null;return}Ac.has(o)?Oo=o:(Ac.add(o),fetch(`https://raw.githubusercontent.com/felitendo/i18n/main/resources/${o}/felocord.json`).then(n=>n.json()).then(n=>hl[o]=n).then(()=>o===wc&&(Oo=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Rr.subscribe("I18N_LOAD_SUCCESS",e),()=>Rr.unsubscribe("I18N_LOAD_SUCCESS",e)}function lr(e,r){var t=g[e];return new Yh(t).format(r)}var Yh,Oo,wc,Ac,hl,g,ge=h(()=>{"use strict";s();l();$();se();Ec();Yh=Ue("MessageFormat"),Oo=null,wc=null,Ac=new Set,hl={},g=new Proxy({},{get:(e,r)=>Oo&&hl[Oo]?.[r]?hl[Oo]?.[r]:Tc[r]})});var Ka={};F(Ka,{showToast:()=>z});var Kh,z,Pr=h(()=>{"use strict";s();l();ge();ie();Le();$();se();({uuid4:Kh}=Y(()=>H("uuid4"))),z=(e,r)=>Dn.open({key:`vd-toast-${Kh()}`,content:e,source:r,icon:r});z.showCopyToClipboard=(e=g.COPIED_TO_CLIPBOARD)=>{z(e,y("toast_copy_link"))}});var qa={};F(qa,{connectToDebugger:()=>jn,getDebugInfo:()=>Lr,patchLogHook:()=>vl,toggleSafeMode:()=>Bn,versionHash:()=>Mn});function Bn(){return gl.apply(this,arguments)}function gl(){return gl=_(function*(){N.safeMode={...N.safeMode,enabled:!N.safeMode?.enabled},Cr()&&(Dt()?.id&&(N.safeMode.currentThemeId=Dt().id),N.safeMode?.enabled?yield nt(null):N.safeMode?.currentThemeId&&(yield nt(le[N.safeMode?.currentThemeId]))),setTimeout(Qt.reload,400)}),gl.apply(this,arguments)}function jn(e){if(Nr!==void 0&&Nr.readyState!==WebSocket.CLOSED&&Nr.close(),!e){z("Invalid debugger URL!",y("Small"));return}Nr=new WebSocket(`ws://${e}`),Nr.addEventListener("open",()=>z("Connected to debugger.",y("Check"))),Nr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),Nr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),z("An error occurred with the debugger connection!",y("Small"))})}function vl(){var e=Z("nativeLoggingHook",globalThis,r=>{Nr?.readyState===WebSocket.OPEN&&Nr.send(JSON.stringify({message:r[0],level:r[1]})),ke.log(r[0])});return()=>{Nr&&Nr.close(),e()}}function Lr(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=Wa.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:Mn.split("-")[0],loader:Bs()},felocord:{version:Mn,loader:{name:Bs(),version:tc()}},discord:{version:Jt.Version,build:Jt.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Wa.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...Wa.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:Zt.device}},ios:{device:{manufacturer:Zt.deviceManufacturer,brand:Zt.deviceBrand,model:Zt.deviceModel,codename:Zt.device}}})}}var Wa,Nr,Mn,ut=h(()=>{"use strict";s();l();fe();sr();ie();Gr();rt();ze();Oe();tt();Pr();Wa=k(oe());Mn="6c624f4-main"});var Xa={};F(Xa,{common:()=>Ya,factories:()=>mn,filters:()=>qi,findAllExports:()=>Rt,findAllModule:()=>Ji,findAllModuleId:()=>Fp,findByDisplayName:()=>ns,findByDisplayNameAll:()=>is,findByDisplayNameLazy:()=>as,findByFilePath:()=>fs,findByFilePathLazy:()=>cs,findByName:()=>Io,findByNameAll:()=>os,findByNameLazy:()=>Ue,findByProps:()=>H,findByPropsAll:()=>ts,findByPropsLazy:()=>I,findByStoreName:()=>us,findByStoreNameLazy:()=>vn,findByTypeName:()=>ss,findByTypeNameAll:()=>ls,findByTypeNameLazy:()=>kp,findExports:()=>Ne,findModule:()=>Xi,findModuleId:()=>Dp,lazy:()=>es});var ft=h(()=>{"use strict";s();l();$();Ta();hn();Ao();gn();se()});function Un(e){var r=fs("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!r&&"extraContent"in e&&(e.content=x(yl.View,{style:{gap:16},children:[i(L,{variant:"text-md/medium",color:"text-muted",children:e.content}),i(yl.View,{children:e.extraContent})]}),delete e.extraContent),i(Wh,{...e})}var yl,Wh,qh,Ja,_l=h(()=>{"use strict";s();l();V();Le();ft();J();yl=k(oe()),{AlertModal:Wh,AlertActionButton:qh}=Y(()=>H("AlertModal","AlertActions")),Ja=qh});var xl={};F(xl,{AlertActionButton:()=>Ja,AlertModal:()=>Un});var Ic=h(()=>{"use strict";s();l();_l()});function Nc(e){return Pc.isSemanticColor(e)}function Lc(e,r=Xh.theme){return Pc.resolveSemanticColor(r,e)}var Ze,Rc,Xh,Pc,Do=h(()=>{"use strict";s();l();sr();$();se();Ze=_e?.default?.colors??Ir?.ThemeColorMap,Rc=_e?.default?.unsafe_rawColors??Ir?.Colors,Xh=vn("ThemeStore"),Pc=_e.default.meta??=_e.default.internal});var El={};F(El,{TextStyleSheet:()=>ct,ThemeContext:()=>Sl,createLegacyClassComponentStyles:()=>Zh,createStyles:()=>Or,createThemedStyleSheet:()=>bl});function Or(e){return Ee(()=>Dc.createStyles(e))}function Zh(e){return Ee(()=>Dc.createLegacyClassComponentStyles(e))}function bl(e){for(var r in e)e[r]=new Proxy(Oc.StyleSheet.flatten(e[r]),{get(t,o,n){var a=Reflect.get(t,o,n);return Nc(a)?Lc(a):a}});return e}var Oc,Dc,Sl,ct,Kr=h(()=>{"use strict";s();l();Le();se();Do();Oc=k(oe()),Dc=I("createStyles"),{ThemeContext:Sl}=Y(()=>H("ThemeContext"),{hint:"object"}),{TextStyleSheet:ct}=Y(()=>H("TextStyleSheet"))});function Dr({selectable:e,style:r,children:t}){return e?Fo.Platform.select({ios:i(Qh,{style:r,children:t}),default:i(Fc,{style:r,children:t,selectable:!0})}):i(Fc,{style:r,children:t})}var Fo,Mc,Qh,Fc,Bc=h(()=>{"use strict";s();l();V();$();Do();Kr();Fo=k(oe()),Mc=Or({codeBlock:{fontFamily:Ir.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:Ze.BACKGROUND_SECONDARY,color:Ze.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:Ze.BACKGROUND_TERTIARY,padding:10}}),Qh=({style:e,children:r})=>i(Fo.TextInput,{editable:!1,multiline:!0,style:[Mc().codeBlock,e&&e],value:r}),Fc=({selectable:e,style:r,children:t})=>i(Fo.Text,{selectable:e,style:[Mc().codeBlock,r&&r],children:t})});var Tl={};F(Tl,{hideSheet:()=>Ut,showSheet:()=>kn});function kn(e,r,t){"then"in r||(r=Promise.resolve({default:r})),jc.openLazy(r,e,t??{})}function Ut(e){jc.hideActionSheet(e)}var jc,Mo=h(()=>{"use strict";s();l();se();jc=I("openLazy","hideActionSheet")});function Uc(e){return e.split(/[\s|\n]+?in /).filter(Boolean)}var kc=h(()=>{"use strict";s();l()});var Wr=jr((zb,Hc)=>{s();l();Hc.exports=Pt().react});function Hn(e){var[r,t]=(0,Vc.useState)(!0),o;try{o=Uc(e.componentStack),o=r?o.slice(0,4):o}catch{return}return i(ve,{children:x(po.View,{style:{gap:8},children:[i(L,{variant:"heading-lg/bold",children:"Component Stack"}),i(po.View,{style:{gap:4},children:o.map(n=>x(po.View,{style:{flexDirection:"row"},children:[i(L,{variant:"text-md/bold",color:"text-muted",children:"<"}),i(L,{variant:"text-md/bold",children:n}),i(L,{variant:"text-md/bold",color:"text-muted",children:"/>"})]}))}),r&&i(L,{children:"..."}),x(po.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[i(G,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):i(po.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(n=>!n)}),i(G,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Fe.setString(e.componentStack)})]})]})})}var Vc,po,wl=h(()=>{"use strict";s();l();V();kc();ie();$();J();Vc=k(Wr()),po=k(oe())});function og(e){return e==="InternalBytecode.js"}function ng(e){var r=e.match(eg);if(r)return{type:"FRAME",functionName:r[1],location:r[2]==="native"?{type:"NATIVE"}:r[3]==="address at "?og(r[4])?{type:"INTERNAL_BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"SOURCE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),column1Based:Number.parseInt(r[6],10)}};var t=e.match(rg);if(t)return{type:"SKIPPED",count:Number.parseInt(t[1],10)}}function ag(e){for(var r=e.split(/\n/),t=[],o=-1,n=0;n<r.length;++n){var a=r[n];if(a){var u=ng(a);if(u){t.push(u);continue}tg.test(a)||(o=n,t=[])}}var f=r.slice(0,o+1).join(`
`);return{message:f,entries:t}}function ig(e){var r=[];for(var t of e.entries)if(t.type==="FRAME"){var{location:o,functionName:n}=t;o.type==="NATIVE"||o.type==="INTERNAL_BYTECODE"||r.push({methodName:n,file:o.sourceUrl,lineNumber:o.line1Based,column:o.type==="SOURCE"?o.column1Based-1:o.virtualOffset0Based})}return r}function Al(e){if(e==null)return[];var r=Array.isArray(e)?e:ig(ag(e));return r}var eg,rg,tg,Gc=h(()=>{"use strict";s();l();eg=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,rg=/^ {4}... skipping (\d+) frames$/,tg=/^ {4}at .*$/});function Vn(e){var[r,t]=(0,Cl.useState)(!0),o;try{var n=Al(e.error.stack);o=r?n.slice(0,4):n}catch{return null}return i(ve,{children:x(kt.View,{style:{gap:12},children:[i(L,{variant:"heading-lg/bold",children:"Call Stack"}),i(kt.View,{style:{gap:4},children:o.map((a,u)=>i(sg,{id:u,frame:a}))}),r&&i(L,{children:"..."}),x(kt.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[i(G,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):i(kt.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(a=>!a)}),i(G,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Fe.setString(e.error.stack)})]})]})})}function sg(e){var[r,t]=(0,Cl.useState)(!0);return x(kt.Pressable,{onPress:()=>t(o=>!o),children:[i(L,{style:{fontFamily:Ir.Fonts.CODE_BOLD},children:e.frame.methodName}),i(L,{style:{fontFamily:Ir.Fonts.CODE_NORMAL},ellipsizeMode:"middle",numberOfLines:r?1:void 0,children:x(L,{color:"text-muted",children:[e.frame.file===$c?"jsbundle":e.frame.file,":",e.frame.lineNumber,":",e.frame.column]})})]},e.id)}var Cl,kt,Il=h(()=>{"use strict";s();l();V();Gc();ie();$();J();Cl=k(Wr()),kt=k(oe());Rl()});function Pl(e){return i(st,{children:x(zc.View,{style:{gap:12,paddingVertical:12},children:[i(L,{variant:"heading-lg/extrabold",children:"Error"}),i(Dr,{selectable:!0,children:e.error.message}),Ha(e.error)&&i(Vn,{error:e.error}),ka(e.error)?i(Hn,{componentStack:e.error.componentStack}):null]})})}var zc,Yc=h(()=>{"use strict";s();l();V();Zs();yr();J();zc=k(oe());wl();Il()});function Nl(e){return i(ve,{children:x(ce,{children:[e.header&&typeof e.header!="string"?e.header:i(L,{variant:"heading-lg/bold",children:e.header??g.UH_OH}),i(Dr,{selectable:!0,children:String(e.error)}),x(tl,{children:[e.onRetryRender&&i(G,{variant:"destructive",text:g.RETRY_RENDER,onPress:e.onRetryRender}),e.error instanceof Error?i(G,{text:"Details",onPress:()=>kn("FelocordErrorDetailsActionSheet",Pl,{error:e.error})}):null]})]})})}var $c,Rl=h(()=>{"use strict";s();l();V();ge();yr();Mo();J();Yc();$c=window.HermesInternal.getFunctionLocation(window.__r).fileName});var lg,pe,Ll=h(()=>{"use strict";s();l();ya();rn();fn();Yi();xa();V();Rl();$();Kr();pe=function(e){"use strict";bt(r,e);function r(t){ar(this,r);var o;return o=xt(this,r,[t]),o.state={hasErr:!1},o}return Sr(r,[{key:"render",value:function(){return this.state.hasErr?i(Nl,{error:this.state.error,onRetryRender:()=>this.setState({hasErr:!1})}):this.props.children}}]),r}(lg=Fn.Component);cn(pe,"contextType",Sl);cn(pe,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function ug(){return i(Za.Image,{style:{width:16,height:16},source:y("search")})}var Za,Ht,Kc=h(()=>{"use strict";s();l();V();ge();ie();J();Ll();Za=k(oe());Ht=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,a]=React.useState(""),u=f=>{a(f),e?.(f)};return i(pe,{children:i(Za.View,{style:t,children:i(We,{grow:!0,isClearable:!0,leadingIcon:ug,placeholder:r??g.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function $n({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[a,u]=React.useState(!0);return x(gr,{children:[i(w,{label:e,icon:r&&i(w.Icon,{source:y(r)}),trailing:i(Yr.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:()=>{u(!a),o||Gn.LayoutAnimation.configureNext(Gn.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&i(gr,{children:i(Gn.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var Gn,Wc=h(()=>{"use strict";s();l();V();ie();J();Gn=k(oe())});var Qa={};F(Qa,{Codeblock:()=>Dr,ErrorBoundary:()=>pe,Search:()=>Ht,Summary:()=>$n,wrappers:()=>xl});var yr=h(()=>{"use strict";s();l();Ic();Bc();Ll();Kc();Wc()});function Ol(e){var r=fg(),t=Lr();return i(pe,{children:i(el,{children:x(Rn,{style:r.container,children:[x(ei.View,{style:{gap:4},children:[i(L,{variant:"display-lg",children:"Uh oh."}),i(L,{variant:"text-md/normal",children:"A crash occurred while rendering a component. This could be caused by a plugin, Felocord or Discord itself."}),x(L,{variant:"text-sm/normal",color:"text-muted",children:[t.os.name,"; ",t.discord.build," (",t.discord.version,"); ",t.felocord.version]})]}),x(ei.ScrollView,{fadingEdgeLength:64,contentContainerStyle:{gap:12},children:[i(Dr,{selectable:!0,children:e.error.message}),Ha(e.error)&&i(Vn,{error:e.error}),ka(e.error)?i(Hn,{componentStack:e.error.componentStack}):null]}),x(ve,{style:{gap:6},children:[i(G,{text:"Reload Discord",onPress:()=>Qt.reload()}),!N.safeMode?.enabled&&i(G,{text:"Reload in Safe Mode",onPress:()=>Bn()}),i(G,{variant:"destructive",text:"Retry Render",onPress:()=>e.rerender()})]})]})})})}var ei,fg,qc=h(()=>{"use strict";s();l();V();Zs();ut();rt();Oe();yr();Kr();$();J();ei=k(oe());wl();Il();fg=Or({container:{flex:1,backgroundColor:lt.colors.BG_BASE_SECONDARY,paddingHorizontal:16,height:"100%",padding:8,gap:12}})});function cg(){var e=Ue("ErrorBoundary")[Ra];return new Promise(r=>e.getExports(t=>r(t.prototype)))}function Dl(){return Z.await("render",cg(),function(){if(this.state.error)return i(Ol,{error:this.state.error,rerender:()=>this.setState({info:null,error:null})})})}var Xc=h(()=>{"use strict";s();l();V();qc();ze();gn();se()});var Fl=jr((LT,Jc)=>{s();l();Jc.exports=Pt().moment});function Qc({locale:e}){try{Zc.default.locale(e.toLowerCase())}catch(r){ke.error("Failed to fix timestamps...",r)}Rr.unsubscribe("I18N_LOAD_SUCCESS",Qc)}var Zc,em,rm=h(()=>{"use strict";s();l();tt();$();Zc=k(Fl());em=()=>{Rr.subscribe("I18N_LOAD_SUCCESS",Qc)}});var ri,tm=h(()=>{ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function ti(e,r,t,o,n){return _(function*(){if(e)return void e();var a=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=dg.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>i(a,{...n})})})}var dg,Bo,Ml=h(()=>{"use strict";s();l();fe();V();$();se();yr();dg=I("getRootNavigationRef"),Bo=React.memo(()=>{var e=de.useNavigation(),r=de.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),i(pe,{children:i(t,{})})})});function pg(){var e=de.useNavigation();return i(gr,{children:Object.keys(Fr).map(r=>Fr[r].length>0&&i(Ga,{title:r,children:Fr[r].filter(t=>t.usePredicate?.()??!0).map((t,o,n)=>x(gr,{children:[i(Yr,{label:t.title(),leading:i(ll,{source:t.icon}),trailing:i(Yr.Arrow,{label:t.useTrailing?.()||void 0}),onPress:ti(t.onPress,e,t.render,t.title())}),o!==n.length-1&&i(Pn,{})]}))},r))})}function om(e){e.push(Z("default",Ue("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Felocord",render:()=>i(Bo,{})},BUNNY_CUSTOM_PAGE:{title:"Felocord",render:()=>i(Bo,{})}})));var r=Z("default",Ue("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=pr(o.props.children,a=>a.type?.name==="UserSettingsOverview");e.push(Z("renderSupportAndAcknowledgements",n.type.prototype,(a,{props:{children:u}})=>{var f=u.findIndex(c=>c?.type?.name==="UploadLogsButton");f!==-1&&u.splice(f,1)})),e.push(Z("render",n.type.prototype,(a,u)=>{var f=[Bt.Messages.BILLING_SETTINGS,Bt.Messages.PREMIUM_SETTINGS],c=pr(u.props.children,m=>m?.children?.[1]?.type===Ga)?.children||u.props.children;if(c){var b=c.findIndex(m=>f.includes(m?.props.label));c.splice(-~b||4,0,i(pg,{}))}}))},!0);e.push(r)}var nm=h(()=>{"use strict";s();l();V();ze();wr();$();J();se();jo();Ml()});function gg(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function am(e){var r=()=>Object.values(Fr).flatMap(n=>n.map(a=>({[a.key]:{type:"pressable",title:a.title,icon:a.icon,IconComponent:()=>i(w.Icon,{source:a.icon}),usePredicate:a.usePredicate,useTrailing:a.useTrailing,onPress:ti(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}))).reduce((n,a)=>Object.assign(n,a)),t=oi.SETTING_RENDERER_CONFIG,o=oi.SETTING_RENDERER_CONFIG;Object.defineProperty(oi,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Felocord",screen:{route:"VendettaCustomPage",getComponent:()=>Bo}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Felocord",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>Bo}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(oi,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(Z("default",hg,(n,a)=>{if(!gg()){var{sections:u}=pr(a,c=>c.props?.sections).props,f=-~u.findIndex(c=>c.label===Bt.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Fr).forEach(c=>{u.splice(f++,0,{label:c,title:c,settings:Fr[c].map(b=>b.key)})})}}))}var oi,hg,im=h(()=>{"use strict";s();l();V();ze();wr();$();J();se();jo();Ml();oi=I("SETTING_RENDERER_CONFIG"),hg=Ue("SettingsOverviewScreen",!1)});var jl={};F(jl,{patchSettings:()=>Bl,registerSection:()=>ni,registeredSections:()=>Fr});function ni(e){return Fr[e.name]=e.items,()=>delete Fr[e.name]}function Bl(){var e=new Array;return om(e),am(e),()=>e.forEach(r=>r())}var Fr,jo=h(()=>{"use strict";s();l();nm();im();Fr={}});function ai({label:e,version:r,icon:t}){return i(w,{label:e,icon:i(w.Icon,{source:y(t)}),trailing:i(Nn,{children:r}),onPress:()=>{Fe.setString(`${e} - ${r}`),z.showCopyToClipboard()}})}var sm=h(()=>{"use strict";s();l();V();ie();$();J();Pr()});function Ul(){var e=Lr();K(N);var r=[{label:g.BUNNY,version:e.felocord.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:g.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:g.LOADER,version:`${e.felocord.loader.name} (${e.felocord.loader.version})`,icon:"ic_download_24px"},{label:g.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:g.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:g.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:g.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:ii.Platform.select({android:g.CODENAME,ios:g.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return i(ii.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(ce,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(De,{title:g.VERSIONS,children:r.map(o=>i(ai,{label:o.label,version:o.version,icon:o.icon}))}),i(De,{title:g.PLATFORM,children:t.map(o=>i(ai,{label:o.label,version:o.version,icon:o.icon}))})]})})}var ii,lm=h(()=>{"use strict";s();l();V();ge();sm();he();ut();Oe();J();ii=k(oe())});var fm={};F(fm,{default:()=>um});function um(){K(N);var e=Lr(),r=de.useNavigation();return i(si.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(ce,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[x(De,{title:g.INFO,children:[i(w,{label:g.BUNNY,icon:i(w.Icon,{source:{uri:ri}}),trailing:i(w.TrailingText,{text:e.felocord.version})}),i(w,{label:"Discord",icon:i(w.Icon,{source:y("Discord")}),trailing:i(w.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),i(w,{arrow:!0,label:g.ABOUT,icon:i(w.Icon,{source:y("CircleInformationIcon-primary")}),trailing:w.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:g.ABOUT,render:()=>i(Ul,{})})})]}),x(De,{title:g.LINKS,children:[i(w,{label:g.DISCORD_SERVER,icon:i(w.Icon,{source:y("Discord")}),trailing:w.Arrow,onPress:()=>jt.openDeeplink(ps)}),i(w,{label:g.GITHUB,icon:i(w.Icon,{source:y("img_account_sync_github_white")}),trailing:w.Arrow,onPress:()=>jt.openURL(hs)})]}),x(De,{title:g.ACTIONS,children:[i(w,{label:g.RELOAD_DISCORD,icon:i(w.Icon,{source:y("ic_message_retry")}),onPress:()=>si.NativeModules.BundleUpdaterManager.reload()}),i(w,{label:N.safeMode?.enabled?g.RELOAD_IN_NORMAL_MODE:g.RELOAD_IN_SAFE_MODE,subLabel:N.safeMode?.enabled?g.RELOAD_IN_NORMAL_MODE_DESC:g.RELOAD_IN_SAFE_MODE_DESC,icon:i(w.Icon,{source:y("ic_privacy_24px")}),onPress:Bn}),i(Mt,{label:g.DEVELOPER_SETTINGS,icon:i(w.Icon,{source:y("ic_progress_wrench_24px")}),value:N.developerSettings,onValueChange:t=>{N.developerSettings=t}})]}),i(De,{title:g.MISCELLANEOUS,children:i(Mt,{label:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:i(w.Icon,{source:y("ic_progress_wrench_24px")}),value:N.enableDiscordDeveloperSettings,onValueChange:t=>{N.enableDiscordDeveloperSettings=t}})})]})})}var si,cm=h(()=>{"use strict";s();l();V();ge();kl();lm();he();ie();ut();Oe();Lt();$();J();si=k(oe())});function Hl(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var mm=h(()=>{"use strict";s();l()});var pm=jr((dm,li)=>{s();l();ya();rn();fn();xa();wf();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof li=="object"&&li.exports?li.exports=r():e.fuzzysort=r()})(dm,e=>{"use strict";var r=(S,v)=>{if(!S||!v)return be;var E=j(S);Yt(v)||(v=P(v));var A=E.bitflags;return(A&v._bitflags)!==A?be:ye(E,v)},t=(S,v,E)=>{if(!S)return E?.all?ne(v,E):Fi;var A=j(S),O=A.bitflags,R=A.containsSpace,T=m(E?.threshold||0),B=E?.limit||Di,D=0,q=0,W=v.length;function qe(qt){D<B?(ha.add(qt),++D):(++q,qt._score>ha.peek()._score&&ha.replaceTop(qt))}if(E?.key)for(var Be=E.key,X=0;X<W;++X){var Ve=v[X],Q=pa(Ve,Be);if(Q&&(Yt(Q)||(Q=P(Q)),(O&Q._bitflags)===O)){var te=ye(A,Q);te!==be&&(te._score<T||(te.obj=Ve,qe(te)))}}else if(E?.keys){var et=E.keys,xr=et.length;e:for(var X=0;X<W;++X){var Ve=v[X];{for(var Pe=0,me=0;me<xr;++me){var Be=et[me],Q=pa(Ve,Be);if(!Q){Oi[me]=Zo;continue}Yt(Q)||(Q=P(Q)),Oi[me]=Q,Pe|=Q._bitflags}if((O&Pe)!==O)continue}if(R)for(var rr=0;rr<A.spaceSearches.length;rr++)Qr[rr]=er;for(var me=0;me<xr;++me){if(Q=Oi[me],Q===Zo){To[me]=Zo;continue}if(To[me]=ye(A,Q,!1,R),To[me]===be){To[me]=Zo;continue}if(R)for(var M=0;M<A.spaceSearches.length;M++){if(zt[M]>-1e3&&Qr[M]>er){var tr=(Qr[M]+zt[M])/4;tr>Qr[M]&&(Qr[M]=tr)}zt[M]>Qr[M]&&(Qr[M]=zt[M])}}if(R){for(var fr=0;fr<A.spaceSearches.length;fr++)if(Qr[fr]===er)continue e}else{for(var Kt=!1,Wt=0;Wt<xr;Wt++)if(To[Wt]._score!==er){Kt=!0;break}if(!Kt)continue}for(var cr=new f(xr),or=0;or<xr;or++)cr[or]=To[or];if(R)for(var ae=0,wo=0;wo<A.spaceSearches.length;wo++)ae+=Qr[wo];else for(var ae=er,nr=0;nr<xr;nr++){var te=cr[nr];if(te._score>-1e3&&ae>er){var tr=(ae+te._score)/4;tr>ae&&(ae=tr)}te._score>ae&&(ae=te._score)}if(cr.obj=Ve,cr._score=ae,E?.scoreFn){if(ae=E.scoreFn(cr),!ae)continue;ae=m(ae),cr._score=ae}ae<T||qe(cr)}}else for(var X=0;X<W;++X){var Q=v[X];if(Q&&(Yt(Q)||(Q=P(Q)),(O&Q._bitflags)===O)){var te=ye(A,Q);te!==be&&(te._score<T||qe(te))}}if(D===0)return Fi;for(var Qo=new Array(D),X=D-1;X>=0;--X)Qo[X]=ha.poll();return Qo.total=D+q,Qo},o=(S,v="<b>",E="</b>")=>{for(var A=typeof v=="function"?v:void 0,O=S.target,R=O.length,T=S.indexes,B="",D=0,q=0,W=!1,qe=[],Be=0;Be<R;++Be){var X=O[Be];if(T[q]===Be){if(++q,W||(W=!0,A?(qe.push(B),B=""):B+=v),q===T.length){A?(B+=X,qe.push(A(B,D++)),B="",qe.push(O.substr(Be+1))):B+=X+E+O.substr(Be+1);break}}else W&&(W=!1,A?(qe.push(A(B,D++)),B=""):B+=E);B+=X}return A?qe:B},n=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S="");var v=Br(S);return c(S,{_targetLower:v._lower,_targetLowerCodes:v.lowerCodes,_bitflags:v.bitflags})},a=()=>{Ni.clear(),Li.clear()},u=function(){function S(){ar(this,S)}return Sr(S,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((E,A)=>E-A)}},{key:"indexes",set:function(E){return this._indexes=E}},{key:"highlight",value:function(E,A){return o(this,E,A)}},{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(E){this._score=m(E)}}]),S}(),f=function(S){bt(v,S);function v(){return ar(this,v),xt(this,v,arguments)}return Sr(v,[{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(A){this._score=m(A)}}]),v}(Sa(Array)),c=(S,v)=>{var E=new u;return E.target=S,E.obj=v.obj??be,E._score=v._score??er,E._indexes=v._indexes??[],E._targetLower=v._targetLower??"",E._targetLowerCodes=v._targetLowerCodes??be,E._nextBeginningIndexes=v._nextBeginningIndexes??be,E._bitflags=v._bitflags??0,E},b=S=>S===er?0:S>1?S:Math.E**(((-S+1)**.04307-1)*-2),m=S=>S===0?er:S>1?S:1-Math.pow(Math.log(S)/-2+1,1/.04307),C=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S=""),S=S.trim();var v=Br(S),E=[];if(v.containsSpace){var A=S.split(/\s+/);A=[...new Set(A)];for(var O=0;O<A.length;O++)if(A[O]!==""){var R=Br(A[O]);E.push({lowerCodes:R.lowerCodes,_lower:A[O].toLowerCase(),containsSpace:!1})}}return{lowerCodes:v.lowerCodes,_lower:v._lower,containsSpace:v.containsSpace,bitflags:v.bitflags,spaceSearches:E}},P=S=>{if(S.length>999)return n(S);var v=Ni.get(S);return v!==void 0||(v=n(S),Ni.set(S,v)),v},j=S=>{if(S.length>999)return C(S);var v=Li.get(S);return v!==void 0||(v=C(S),Li.set(S,v)),v},ne=(S,v)=>{var E=[];E.total=S.length;var A=v?.limit||Di;if(v?.key)for(var O=0;O<S.length;O++){var R=S[O],T=pa(R,v.key);if(T!=be){Yt(T)||(T=P(T));var B=c(T.target,{_score:T._score,obj:R});if(E.push(B),E.length>=A)return E}}else if(v?.keys)for(var O=0;O<S.length;O++){for(var R=S[O],D=new f(v.keys.length),q=v.keys.length-1;q>=0;--q){var T=pa(R,v.keys[q]);if(!T){D[q]=Zo;continue}Yt(T)||(T=P(T)),T._score=er,T._indexes.len=0,D[q]=T}if(D.obj=R,D._score=er,E.push(D),E.length>=A)return E}else for(var O=0;O<S.length;O++){var T=S[O];if(T!=be&&(Yt(T)||(T=P(T)),T._score=er,T._indexes.len=0,E.push(T),E.length>=A))return E}return E},ye=(S,v,E=!1,A=!1)=>{if(E===!1&&S.containsSpace)return Jo(S,v,A);for(var O=S._lower,R=S.lowerCodes,T=R[0],B=v._targetLowerCodes,D=R.length,q=B.length,X=0,W=0,qe=0;;){var Be=T===B[W];if(Be){if(Zr[qe++]=W,++X,X===D)break;T=R[X]}if(++W,W>=q)return be}var X=0,Ve=!1,Q=0,te=v._nextBeginningIndexes;te===be&&(te=v._nextBeginningIndexes=He(v.target)),W=Zr[0]===0?0:te[Zr[0]-1];var et=0;if(W!==q)for(;;)if(W>=q){if(X<=0||(++et,et>200))break;--X;var xr=ma[--Q];W=te[xr]}else{var Be=R[X]===B[W];if(Be){if(ma[Q++]=W,++X,X===D){Ve=!0;break}++W}else W=te[W]}var Pe=D<=1?-1:v._targetLower.indexOf(O,Zr[0]),me=!!~Pe,rr=me?Pe===0||v._nextBeginningIndexes[Pe-1]===Pe:!1;if(me&&!rr){for(var M=0;M<te.length;M=te[M])if(!(M<=Pe)){for(var tr=0;tr<D&&R[tr]===v._targetLowerCodes[M+tr];tr++);if(tr===D){Pe=M,rr=!0;break}}}var fr=or=>{for(var ae=0,wo=0,nr=1;nr<D;++nr)or[nr]-or[nr-1]!==1&&(ae-=or[nr],++wo);var Qo=or[D-1]-or[0]-(D-1);if(ae-=(12+Qo)*wo,or[0]!==0&&(ae-=or[0]*or[0]*.2),!Ve)ae*=1e3;else{for(var qt=1,nr=te[0];nr<q;nr=te[nr])++qt;qt>24&&(ae*=(qt-24)*10)}return ae-=(q-D)/2,me&&(ae/=1+D*D*1),rr&&(ae/=1+D*D*1),ae-=(q-D)/2,ae};if(Ve)if(rr){for(var M=0;M<D;++M)Zr[M]=Pe+M;var Kt=Zr,Wt=fr(Zr)}else var Kt=ma,Wt=fr(ma);else{if(me)for(var M=0;M<D;++M)Zr[M]=Pe+M;var Kt=Zr,Wt=fr(Kt)}v._score=Wt;for(var M=0;M<D;++M)v._indexes[M]=Kt[M];v._indexes.len=D;var cr=new u;return cr.target=v.target,cr._score=v._score,cr._indexes=v._indexes,cr},Jo=(S,v,E)=>{for(var A=new Set,O=0,R=be,T=0,B=S.spaceSearches,D=B.length,q=0,W=()=>{for(var fr=q-1;fr>=0;fr--)v._nextBeginningIndexes[da[fr*2+0]]=da[fr*2+1]},qe=!1,M=0;M<D;++M){zt[M]=er;var Be=B[M];if(R=ye(Be,v),E){if(R===be)continue;qe=!0}else if(R===be)return W(),be;var X=M===D-1;if(!X){for(var Ve=R._indexes,Q=!0,te=0;te<Ve.len-1;te++)if(Ve[te+1]-Ve[te]!==1){Q=!1;break}if(Q)for(var et=Ve[Ve.len-1]+1,xr=v._nextBeginningIndexes[et-1],Pe=et-1;Pe>=0&&xr===v._nextBeginningIndexes[Pe];Pe--)v._nextBeginningIndexes[Pe]=et,da[q*2+0]=Pe,da[q*2+1]=xr,q++}O+=R._score/D,zt[M]=R._score/D,R._indexes[0]<T&&(O-=(T-R._indexes[0])*2),T=R._indexes[0];for(var me=0;me<R._indexes.len;++me)A.add(R._indexes[me])}if(E&&!qe)return be;W();var rr=ye(S,v,!0);if(rr!==be&&rr._score>O){if(E)for(var M=0;M<D;++M)zt[M]=rr._score/D;return rr}E&&(R=v),R._score=O;var M=0;for(var tr of A)R._indexes[M++]=tr;return R._indexes.len=M,R},Br=S=>{for(var v=S.length,E=S.toLowerCase(),A=[],O=0,R=!1,T=0;T<v;++T){var B=A[T]=E.charCodeAt(T);if(B===32){R=!0;continue}var D=B>=97&&B<=122?B-97:B>=48&&B<=57?26:B<=127?30:31;O|=1<<D}return{lowerCodes:A,bitflags:O,containsSpace:R,_lower:E}},_t=S=>{for(var v=S.length,E=[],A=0,O=!1,R=!1,T=0;T<v;++T){var B=S.charCodeAt(T),D=B>=65&&B<=90,q=D||B>=97&&B<=122||B>=48&&B<=57,W=D&&!O||!R||!q;O=D,R=q,W&&(E[A++]=T)}return E},He=S=>{for(var v=S.length,E=_t(S),A=[],O=E[0],R=0,T=0;T<v;++T)O>T?A[T]=O:(O=E[++R],A[T]=O===void 0?v:O);return A},Ni=new Map,Li=new Map,Zr=[],ma=[],da=[],Qr=[],zt=[],Oi=[],To=[],pa=(S,v)=>{var E=S[v];if(E!==void 0)return E;if(typeof v=="function")return v(S);var A=v;Array.isArray(v)||(A=v.split("."));for(var O=A.length,R=-1;S&&++R<O;)S=S[A[R]];return S},Yt=S=>typeof S=="object"&&typeof S._bitflags=="number",Di=1/0,er=-Di,Fi=[];Fi.total=0;var be=null,Zo=n(""),up=S=>{var v=[],E=0,A={},O=R=>{for(var T=0,B=v[T],D=1;D<E;){var q=D+1;T=D,q<E&&v[q]._score<v[D]._score&&(T=q),v[T-1>>1]=v[T],D=1+(T<<1)}for(var W=T-1>>1;T>0&&B._score<v[W]._score;W=(T=W)-1>>1)v[T]=v[W];v[T]=B};return A.add=R=>{var T=E;v[E++]=R;for(var B=T-1>>1;T>0&&R._score<v[B]._score;B=(T=B)-1>>1)v[T]=v[B];v[T]=R},A.poll=R=>{if(E!==0){var T=v[0];return v[0]=v[--E],O(),T}},A.peek=R=>{if(E!==0)return v[0]},A.replaceTop=R=>{v[0]=R,O()},A},ha=up();return{single:r,go:t,prepare:n,cleanup:a}})});function Sg(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[a,u]=React.useState(!1);function f(){u(!0),e.fetchFn(r).then(()=>xg("AddonInputAlert")).catch(c=>c instanceof Error?n(c.message):String(c)).finally(()=>u(!1))}return i(Un,{title:e.label,content:"Enter the URL of the source you want to install from:",extraContent:x(ce,{style:{marginTop:-12},children:[i(We,{autoFocus:!0,isClearable:!0,value:r,onChange:c=>{t(c),o&&n("")},returnKeyType:"done",onSubmitEditing:f,state:o?"error":void 0,errorMessage:o||void 0}),i(ur.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:i(G,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:y("ClipboardListIcon"),onPress:()=>Fe.getString().then(c=>t(c))})})]}),actions:x(ce,{children:[i(G,{loading:a,text:"Install",variant:"primary",disabled:!r||!Hl(r),onPress:f}),i(Ja,{disabled:a,text:"Cancel",variant:"secondary"})]})})}function ho({CardComponent:e,...r}){K(N);var[t,o]=React.useState(""),[n,a]=React.useState(()=>null),{bottom:u}=rl(),f=(0,ui.useMemo)(()=>{var m=r.items;r.resolveItem&&(m=m.map(r.resolveItem));var C=m.filter(P=>P&&typeof P=="object");return!t&&n&&C.sort(n),hm.default.go(t,C,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),c=(0,ui.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:m,onPress:C,fetchFn:P}=r.installAction;P?_g("AddonInputAlert",i(Sg,{label:m??"Install",fetchFn:P})):C?.()},[]);if(f.length===0&&!t)return x(ur.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[x(ur.View,{style:{gap:8,alignItems:"center"},children:[i(ur.Image,{source:y("empty_quick_switcher")}),i(L,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),i(G,{size:"lg",icon:y("DownloadIcon"),text:r.installAction?.label??"Install",onPress:c})]});var b=x(ur.View,{style:{paddingBottom:8},children:[N.safeMode?.enabled&&x(ur.View,{style:{marginBottom:10},children:[i(In,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),x(ur.View,{style:{flexDirection:"row",gap:8},children:[i(Ht,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:m=>o(m)}),r.sortOptions&&i(Ce,{icon:y("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>vg({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>yg("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([m,C])=>({label:m,onPress:()=>a(()=>C)}))})})]}),r.ListHeaderComponent&&!t&&i(r.ListHeaderComponent,{})]});return x(pe,{children:[i(Ln,{data:f,extraData:t,estimatedItemSize:136,ListHeaderComponent:b,ListEmptyComponent:()=>x(ur.View,{style:{gap:12,padding:12,alignItems:"center"},children:[i(ur.Image,{source:y("devices_not_found")}),i(L,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>i(ur.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:m})=>i(e,{item:m.obj,result:m})}),r.installAction&&i(il,{positionBottom:u+8,icon:y("PlusLargeIcon"),onPress:c})]})}var hm,ui,ur,vg,yg,_g,xg,fi=h(()=>{"use strict";s();l();V();he();ie();Oe();_l();mm();Le();ft();$();J();yr();hm=k(pm()),ui=k(Wr()),ur=k(oe()),{showSimpleActionSheet:vg,hideActionSheet:yg}=Y(()=>H("showSimpleActionSheet")),{openAlert:_g,dismissAlert:xg}=Y(()=>H("openAlert","dismissAlert"))});var gm,vm=h(()=>{"use strict";s();l();$();Kr();gm=Or({smallIcon:{tintColor:lt.colors.LOGO_PRIMARY,height:18,width:18}})});function Vl(){return(0,ym.default)(lt.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function bg(){var e=gm(),{plugin:r,result:t}=ci(),o=t[0].highlight((u,f)=>i(L,{style:{backgroundColor:Vl()},children:u},f)),n=r.icon&&y(r.icon),a=i(L,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return x(Vt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&i(Vt.Image,{style:e.smallIcon,source:n}),a]})}function Eg(){var{plugin:e,result:r}=ci();if(!e.authors)return null;var t=r[2].highlight((a,u)=>i(L,{style:{backgroundColor:Vl()},children:a},u));if(t.length>0)return x(L,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),i(L,{variant:"text-md/semibold",color:"text-muted",children:o})}function Tg(){var{plugin:e,result:r}=ci(),t=r[1].highlight((o,n)=>i(L,{style:{backgroundColor:Vl()},children:o},n));return i(L,{variant:"text-md/medium",children:t.length?t:e.description})}function Gl({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,Uo.useMemo)(()=>({plugin:r,result:e}),[r,e]);return i(_m.Provider,{value:o,children:i(ve,{children:x(ce,{spacing:16,children:[x(Vt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[x(Vt.View,{style:{flexShrink:1},children:[i(bg,{}),i(Eg,{})]}),i(Vt.View,{children:x(ce,{spacing:12,direction:"horizontal",children:[i(wg,{}),i(ol,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),i(Tg,{})]})})})}var ym,Uo,Vt,_m,ci,wg,xm=h(()=>{"use strict";s();l();V();vm();ie();$();J();Mo();ym=k(Oa()),Uo=k(Wr()),Vt=k(oe()),_m=(0,Uo.createContext)(null),ci=()=>(0,Uo.useContext)(_m);wg=()=>{var{plugin:e}=ci(),r=de.useNavigation();return x(Vt.View,{style:{flexDirection:"row",gap:6},children:[i(Ce,{size:"sm",variant:"secondary",icon:y("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),i(Ce,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),onPress:()=>void kn("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})}});var Qe,go,U,mt=h(()=>{"use strict";s();l();fe();he();Oe();wr();Lt();tt();Qe=br(ir(Er("VENDETTA_PLUGINS"))),go={},U={plugins:Qe,pluginFetch(e){return _(function*(){return e.startsWith(Tr)&&(e=e.replace("https://felocord-mod.github.io/plugins-proxy",io).replace(Tr,io)),yield Ye(e,{cache:"no-store"})})()},fetchPlugin(e){return _(function*(){e.endsWith("/")||(e+="/");var r=Qe[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Qe[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return _(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Qe)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return _(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield ir(Er(e.id))},logger:new Sn(`Felocord \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return _(function*(){e.endsWith("/")||(e+="/");var r=Qe[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!N.safeMode?.enabled){var t=yield this.evalPlugin(r);go[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){ke.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{go[r.id]?.onUnload?.()}catch(n){ke.error(`Plugin ${r.id} errored whilst unloading`,n)}delete go[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Qe[e],o=go[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!N.safeMode?.enabled){try{o?.onUnload?.()}catch(n){ke.error(`Plugin ${t.id} errored whilst unloading`,n)}delete go[e]}r&&(t.enabled=!1)},removePlugin(e){return _(function*(){e.endsWith("/")||(e+="/");var r=Qe[e];r.enabled&&this.stopPlugin(e),delete Qe[e],yield Pa(e)}).apply(this)},initPlugins(){return _(function*(){yield Nt(N,Qe);var e=Object.keys(Qe);if(!N.safeMode?.enabled){var r=this;yield d(e.filter(t=>Qe[t].enabled).map(function(){var t=_(function*(o){return Qe[o].update&&(yield r.fetchPlugin(o).catch(n=>ke.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Qe[t].enabled&&Qe[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(go).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>go[e]?.settings}});function Ig(e,r=null,t=!1){if(e.guild_id===vs){var o;if(e.parent_id===ys)o="Plugin";else if(e.parent_id===xn&&Cr())o="Theme";else return;var{firstMessage:n}=t?Ag(e):{firstMessage:r},a=n?.content?.match(gs)?.filter(zn[o].urlsFilter);if(!(!a||!a[0]))return o==="Plugin"&&!a[0].endsWith("/")&&(a[0]+="/"),[o,a[0]]}}function Rg(e,r=null,t=!1){var[o,n]=Ig(e,r,t)??[];K(U.plugins),K(le);var[a,u]=React.useState(!1);if(!o||!n)return[!0];var f=!!zn[o].storage[n],c=function(){var b=_(function*(){u(!0);try{yield zn[o].installOrRemove(n)}catch(m){z(m.message,y("Small"))}finally{u(!1)}});return function(){return b.apply(this,arguments)}}();return[!1,o,f,a,c]}var Ag,Cg,zn,Pg,Sm,bm=h(()=>{"use strict";s();l();fe();V();ge();mt();he();sr();ie();Gr();ze();Lt();Le();J();se();yr();Pr();({useFirstForumPostMessage:Ag}=Y(()=>H("useFirstForumPostMessage"))),Cg=I("MostCommonForumPostReaction"),zn={Plugin:{storage:U.plugins,urlsFilter:e=>e.startsWith(Tr),installOrRemove:e=>{var r=zn.Plugin.storage[e];return r?U.removePlugin(e):U.installPlugin(e)}},Theme:{storage:le,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=zn.Theme.storage[e];return r?fo(e):ot(e)}}};Pg=()=>Z("MostCommonForumPostReaction",Cg,([{thread:e,firstMessage:r}],t)=>{var[o,n,a,u,f]=Rg(e,r,!0);if(!o)return x(gr,{children:[t,i(pe,{children:i(G,{size:"sm",loading:u,disabled:u,variant:a?"secondary":"primary",text:a?g.UNINSTALL:g.INSTALL,onPress:f,icon:y(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),Sm=()=>{var e=[Pg()];return()=>e.map(r=>r())}});function $l({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:a,initialValue:u="",secureTextEntry:f}){var[c,b]=React.useState(u),[m,C]=React.useState("");function P(){var j=Promise.resolve(o(c));j.then(()=>{Em.close()}).catch(ne=>{C(ne.message)})}return i(Cn,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:m.length!==0,onConfirm:P,cancelText:n,onCancel:()=>Em.close(),children:i(ul,{placeholder:a,value:c,onChange:j=>{b(typeof j=="string"?j:j.text),m&&C("")},returnKeyType:"done",onSubmitEditing:P,error:m||void 0,secureTextEntry:f,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var Em,Tm=h(()=>{"use strict";s();l();V();J();se();Em=I("openLazy","close")});function Mr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,wm.show(r)}var wm,zl,Am,ko=h(()=>{"use strict";s();l();fe();se();Tm();wm=I("openLazy","close");zl=(e,r)=>wm.openLazy({importer:_(function*(){return()=>React.createElement(e,r)})}),Am=e=>zl($l,e)});function Cm(e){if(e.startsWith(Tr))return"plugin";if(e.endsWith(".json")&&Cr())return"theme"}function Im(e,r){(e==="plugin"?U.installPlugin.bind(U):ot)(r).then(()=>{z(g.SUCCESSFULLY_INSTALLED,y("Check"))}).catch(t=>{z(t.message,y("Small"))})}var Lg,Og,Dg,Fg,Mg,Rm,Pm=h(()=>{"use strict";s();l();fe();ge();ko();mt();sr();ie();Gr();ze();Lt();Le();$();hn();Ao();se();Pr();Lg=Ne(pn("showSimpleActionSheet")),Og=I("handleClick"),{openURL:Dg}=Y(()=>jt),{getChannelId:Fg}=Y(()=>On),{getChannel:Mg}=Y(()=>H("getChannel"));Rm=()=>{var e=new Array;return e.push(Z("showSimpleActionSheet",Lg,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=Cm(t);n&&o.push({label:g.INSTALL_ADDON,onPress:()=>Im(n,t)})}})),e.push(Tt("handleClick",Og,function(){var r=_(function*(t,o){var{href:n}=t[0],a=Cm(n);if(!a)return o.apply(this,t);if(a==="theme"&&Mg(Fg())?.parent_id!==xn)return o.apply(this,t);Mr({title:g.HOLD_UP,content:lr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:()=>Im(a,n),confirmText:g.INSTALL,cancelText:g.CANCEL,secondaryConfirmText:g.OPEN_IN_BROWSER,onConfirmSecondary:()=>Dg(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var Lm={};F(Lm,{default:()=>Bg});var Nm,Bg,Om=h(()=>{"use strict";s();l();di();bm();Pm();Nm=[],Bg=mi({manifest:{id:"felocord.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){Nm=[Sm(),Rm()]},stop(){Nm.forEach(e=>e())}})});var Wl={};F(Wl,{deleteJsxCreate:()=>jg,onJsxCreate:()=>Yl,patchJsx:()=>Kl});function Yl(e,r){Gt.has(e)||Gt.set(e,[]),Gt.get(e).push(r)}function jg(e,r){if(Gt.has(e)){var t=Gt.get(e);t.splice(t.indexOf(r),1),t.length===0&&Gt.delete(e)}}function Kl(){var e=([t],o)=>{if(typeof t=="function"&&Gt.has(t.name)){var n=Gt.get(t.name);for(var a of n){var u=a(t,o);u!==void 0&&(o=u)}return o}},r=[Z("jsx",Dm,e),Z("jsxs",Dm,e)];return()=>r.forEach(t=>t())}var Gt,Dm,pi=h(()=>{"use strict";s();l();ze();ft();Gt=new Map,Dm=I("jsx","jsxs")});var Fm={};F(Fm,{default:()=>kg});var hi,Ug,kg,Mm=h(()=>{"use strict";s();l();ze();pi();ft();hi=k(Wr());di();Ug=Io("useBadges",!1),kg=mi({manifest:{id:"felocord.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};Yl("RenderedBadge",(t,o)=>{o.props.id.match(/felocord-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),Z("default",Ug,([t],o)=>{var[n,a]=(0,hi.useState)(t?r[t.userId]??=[]:[]);(0,hi.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/felitendo/badges/refs/heads/main/${t.userId}.json`).then(u=>u.json()).then(u=>a(r[t.userId]=u))},[t]),t&&n.forEach((u,f)=>{e[`felocord-${t.userId}-${f}`]={source:{uri:u.url},id:`felocord-${f}`,label:u.label},o.push({id:`felocord-${t.userId}-${f}`,description:u.label,icon:"_"})})})}})});function mi(e){return e[Symbol.for("felocord.core.plugin")]=!0,e}var Bm,di=h(()=>{"use strict";s();l();Bm=()=>({"felocord.quickinstall":(Om(),Ge(Lm)),"felocord.badges":(Mm(),Ge(Fm))})});var Kn={};F(Kn,{clearFolder:()=>ru,downloadFile:()=>tu,fileExists:()=>yo,readFile:()=>Yn,removeFile:()=>vo,writeFile:()=>dt});function ru(e){return ql.apply(this,arguments)}function ql(){return ql=_(function*(e,{prefix:r="felitendo/"}={}){if(typeof ee.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield ee.clearFolder("documents",`${r}${e}`))}),ql.apply(this,arguments)}function vo(e){return Xl.apply(this,arguments)}function Xl(){return Xl=_(function*(e,{prefix:r="felitendo/"}={}){if(typeof ee.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield ee.removeFile("documents",`${r}${e}`))}),Xl.apply(this,arguments)}function yo(e){return Jl.apply(this,arguments)}function Jl(){return Jl=_(function*(e,{prefix:r="felitendo/"}={}){return yield ee.fileExists(`${ee.getConstants().DocumentsDirPath}/${r}${e}`)}),Jl.apply(this,arguments)}function dt(e,r){return Zl.apply(this,arguments)}function Zl(){return Zl=_(function*(e,r,{prefix:t="felitendo/"}={}){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield ee.writeFile("documents",`${t}${e}`,r,"utf8"))}),Zl.apply(this,arguments)}function Yn(e){return Ql.apply(this,arguments)}function Ql(){return Ql=_(function*(e,{prefix:r="felitendo/"}={}){try{return yield ee.readFile(`${ee.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),Ql.apply(this,arguments)}function tu(e,r){return eu.apply(this,arguments)}function eu(){return eu=_(function*(e,r,{prefix:t="felitendo/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.statusText}`);var n=yield o.arrayBuffer(),a=Buffer.from(n).toString("base64");return void(yield ee.writeFile("documents",`${t}${r}`,a,"base64"))}),eu.apply(this,arguments)}var _o=h(()=>{"use strict";s();l();fe();rt()});var Wn,qn,gi,jm,Um,re,Hg,Vg,Gg,$g,zg,Yg,km,Kg,_r,$t,Wg,qg,Xg,Jg,Hm,Vm,Gm,$m,Zg,Qg,ev,rv,Me,ou,zm,Ym,Km,pt,Wm=h(()=>{s();l();ya();rn();fn();xa();Wn="insert",qn="update",gi="delete",jm="reverse",Um="shuffle",re=Symbol.for("object-observer-meta-key-0"),Hg={async:1},Vg=e=>{if(!e||typeof e!="object")return null;var r={},t=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');r[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');r[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');r[o]=n}else t.push(o);if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid observer option/s`);return r},Gg=(e,r,t)=>{var o={};o[re]=r;for(var n in e)o[n]=$t(e[n],n,r,t);return o},$g=(e,r,t)=>{var o=e.length,n=new Array(o);n[re]=r;for(var a=0;a<o;a++)n[a]=$t(e[a],a,r,t);return n},zg=(e,r)=>(e[re]=r,e),Yg=(e,r)=>{if(e===null)return r;var t=r;if(e.path){var o=e.path;t=r.filter(f=>f.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,a=n.join(".");t=r.filter(f=>(f.path.length===n.length+1||f.path.length===n.length&&(f.type===jm||f.type===Um))&&f.path.join(".").startsWith(a))}else if(e.pathsFrom){var u=e.pathsFrom;t=r.filter(f=>f.path.join(".").startsWith(u))}return t},km=(e,r)=>{try{e(r)}catch(t){console.error(`failed to notify listener ${e} with ${r}`,t)}},Kg=function(){var r=this.batches;this.batches=[];for(var[t,o]of r)km(t,o)},_r=(e,r)=>{var t=e,o,n,a,u,f,c,b=r.length;do{for(o=t.options.async,n=t.observers,c=n.length;c--;)if([a,u]=n[c],f=Yg(u,r),f.length)if(o){t.batches.length===0&&queueMicrotask(Kg.bind(t));var m=void 0;for(var C of t.batches)if(C[0]===a){m=C;break}m||(m=[a,[]],t.batches.push(m)),Array.prototype.push.apply(m[1],f)}else km(a,f);var P=t.parent;if(P){for(var j=0;j<b;j++){var ne=r[j];r[j]=new Me(ne.type,[t.ownKey,...ne.path],ne.value,ne.oldValue,ne.object)}t=P}else t=null}while(t)},$t=(e,r,t,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new Ym({target:e,ownKey:r,parent:t,visited:o}).proxy:ArrayBuffer.isView(e)?new Km({target:e,ownKey:r,parent:t}).proxy:e instanceof Date?e:new zm({target:e,ownKey:r,parent:t,visited:o}).proxy,Wg=function(){var r=this[re],t=r.target,o=t.length-1,n=t.pop();if(n&&typeof n=="object"){var a=n[re];a&&(n=a.detach())}var u=[new Me(gi,[o],void 0,n,this)];return _r(r,u),n},qg=function(){for(var r=this[re],t=r.target,o=arguments.length,n=new Array(o),a=t.length,u=0;u<o;u++)n[u]=$t(arguments[u],a+u,r);for(var f=Reflect.apply(t.push,t,n),c=[],b=a,m=t.length;b<m;b++)c[b-a]=new Me(Wn,[b],t[b],void 0,this);return _r(r,c),f},Xg=function(){var r=this[re],t=r.target,o,n,a,u,f;for(o=t.shift(),o&&typeof o=="object"&&(f=o[re],f&&(o=f.detach())),n=0,a=t.length;n<a;n++)u=t[n],u&&typeof u=="object"&&(f=u[re],f&&(f.ownKey=n));var c=[new Me(gi,[0],void 0,o,this)];return _r(r,c),o},Jg=function(){for(var r=this[re],t=r.target,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=$t(arguments[a],a,r);for(var u=Reflect.apply(t.unshift,t,n),f=0,c=t.length,b;f<c;f++)if(b=t[f],b&&typeof b=="object"){var m=b[re];m&&(m.ownKey=f)}for(var C=n.length,P=new Array(C),j=0;j<C;j++)P[j]=new Me(Wn,[j],t[j],void 0,this);return _r(r,P),u},Hm=function(){var r=this[re],t=r.target,o,n,a;for(t.reverse(),o=0,n=t.length;o<n;o++)if(a=t[o],a&&typeof a=="object"){var u=a[re];u&&(u.ownKey=o)}var f=[new Me(jm,[],void 0,void 0,this)];return _r(r,f),this},Vm=function(r){var t=this[re],o=t.target,n,a,u;for(o.sort(r),n=0,a=o.length;n<a;n++)if(u=o[n],u&&typeof u=="object"){var f=u[re];f&&(f.ownKey=n)}var c=[new Me(Um,[],void 0,void 0,this)];return _r(t,c),this},Gm=function(r,t,o){var n=this[re],a=n.target,u=[],f=a.length,c=a.slice(0);if(t=t===void 0?0:t<0?Math.max(f+t,0):Math.min(t,f),o=o===void 0?f:o<0?Math.max(f+o,0):Math.min(o,f),t<f&&o>t){a.fill(r,t,o);for(var b,m=t,C,P;m<o;m++)C=a[m],a[m]=$t(C,m,n),m in c?(P=c[m],P&&typeof P=="object"&&(b=P[re],b&&(P=b.detach())),u.push(new Me(qn,[m],a[m],P,this))):u.push(new Me(Wn,[m],a[m],void 0,this));_r(n,u)}return this},$m=function(r,t,o){var n=this[re],a=n.target,u=a.length;r=r<0?Math.max(u+r,0):r,t=t===void 0?0:t<0?Math.max(u+t,0):Math.min(t,u),o=o===void 0?u:o<0?Math.max(u+o,0):Math.min(o,u);var f=Math.min(o-t,u-r);if(r<u&&r!==t&&f>0){var c=a.slice(0),b=[];a.copyWithin(r,t,o);for(var m=r,C,P,j;m<r+f;m++)C=a[m],C&&typeof C=="object"&&(C=$t(C,m,n),a[m]=C),P=c[m],P&&typeof P=="object"&&(j=P[re],j&&(P=j.detach())),!(typeof C!="object"&&C===P)&&b.push(new Me(qn,[m],C,P,this));_r(n,b)}return this},Zg=function(){for(var r=this[re],t=r.target,o=arguments.length,n=new Array(o),a=t.length,u=0;u<o;u++)n[u]=$t(arguments[u],u,r);for(var f=o===0?0:n[0]<0?a+n[0]:n[0],c=o<2?a-f:n[1],b=Math.max(o-2,0),m=Reflect.apply(t.splice,t,n),C=t.length,P,j=0,ne;j<C;j++)ne=t[j],ne&&typeof ne=="object"&&(P=ne[re],P&&(P.ownKey=j));var ye,Jo,Br;for(ye=0,Jo=m.length;ye<Jo;ye++)Br=m[ye],Br&&typeof Br=="object"&&(P=Br[re],P&&(m[ye]=P.detach()));var _t=[],He;for(He=0;He<c;He++)He<b?_t.push(new Me(qn,[f+He],t[f+He],m[He],this)):_t.push(new Me(gi,[f+He],void 0,m[He],this));for(;He<b;He++)_t.push(new Me(Wn,[f+He],t[f+He],void 0,this));return _r(r,_t),m},Qg=function(r,t){var o=this[re],n=o.target,a=r.length,u=n.slice(0);t=t||0,n.set(r,t);for(var f=new Array(a),c=t;c<a+t;c++)f[c-t]=new Me(qn,[c],n[c],u[c],this);_r(o,f)},ev={pop:Wg,push:qg,shift:Xg,unshift:Jg,reverse:Hm,sort:Vm,fill:Gm,copyWithin:$m,splice:Zg},rv={reverse:Hm,sort:Vm,fill:Gm,copyWithin:$m,set:Qg},Me=function e(r,t,o,n,a){"use strict";ar(this,e),this.type=r,this.path=t,this.value=o,this.oldValue=n,this.object=a},ou=function(){"use strict";function e(r,t){ar(this,e);var{target:o,parent:n,ownKey:a,visited:u=new Set}=r;n&&a!==void 0?(this.parent=n,this.ownKey=a):(this.parent=null,this.ownKey=null),u.add(o);var f=t(o,this,u);u.delete(o),this.observers=[],this.revocable=Proxy.revocable(f,this),this.proxy=this.revocable.proxy,this.target=f,this.options=this.processOptions(r.options),this.options.async&&(this.batches=[])}return Sr(e,[{key:"processOptions",value:function(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);var o=Object.keys(t).filter(n=>!(n in Hg));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(t,o,n){var a=t[o];if(n!==a){var u=$t(n,o,this);if(t[o]=u,a&&typeof a=="object"){var f=a[re];f&&(a=f.detach())}var c=a===void 0?[new Me(Wn,[o],u,void 0,this.proxy)]:[new Me(qn,[o],u,a,this.proxy)];_r(this,c)}return!0}},{key:"deleteProperty",value:function(t,o){var n=t[o];if(delete t[o],n&&typeof n=="object"){var a=n[re];a&&(n=a.detach())}var u=[new Me(gi,[o],void 0,n,this.proxy)];return _r(this,u),!0}}]),e}(),zm=function(e){"use strict";bt(r,e);function r(t){return ar(this,r),xt(this,r,[t,Gg])}return r}(ou),Ym=function(e){"use strict";bt(r,e);function r(t){return ar(this,r),xt(this,r,[t,$g])}return Sr(r,[{key:"get",value:function(o,n){return ev[n]||o[n]}}]),r}(ou),Km=function(e){"use strict";bt(r,e);function r(t){return ar(this,r),xt(this,r,[t,zg])}return Sr(r,[{key:"get",value:function(o,n){return rv[n]||o[n]}}]),r}(ou),pt=Object.freeze({from:(e,r)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[re])return e;if(Array.isArray(e))return new Ym({target:e,ownKey:null,parent:null,options:r}).proxy;if(ArrayBuffer.isView(e))return new Km({target:e,ownKey:null,parent:null,options:r}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new zm({target:e,ownKey:null,parent:null,options:r}).proxy},isObservable:e=>!!(e&&e[re]),observe:(e,r,t)=>{if(!pt.isObservable(e))throw new Error("invalid observable parameter");if(typeof r!="function")throw new Error(`observer MUST be a function, got '${r}'`);var o=e[re].observers;o.some(n=>n[0]===r)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([r,Vg(t)])},unobserve:(e,...r)=>{if(!pt.isObservable(e))throw new Error("invalid observable parameter");var t=e[re].observers,o=t.length;if(o){if(!r.length){t.splice(0);return}for(;o;)r.indexOf(t[--o][0])>=0&&t.splice(o,1)}}})});var mu={};F(mu,{awaitStorage:()=>yi,createStorage:()=>Ho,createStorageAndCallback:()=>fu,createStorageAsync:()=>tv,getPreloadedStorage:()=>cu,preloadStorageIfExists:()=>vi,purgeStorage:()=>ov,updateStorage:()=>uu,useObservable:()=>Xn});function lu(e){var r=on(t=>{dt(e,JSON.stringify(t))},500);return{get:_(function*(){try{return JSON.parse(yield Yn(e))}catch(t){throw new Error(`Failed to parse storage from '${e}'`,{cause:t})}}),set:function(){var t=_(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");r(o)});return function(o){return t.apply(this,arguments)}}(),exists:_(function*(){return yield yo(e)})}}function Xn(e,r){if(e.some(o=>o?.[qm]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!pt.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,t]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>t();return e.forEach(n=>pt.observe(n,o,r)),()=>{e.forEach(n=>pt.unobserve(n,o))}},[])}function uu(e,r){return nu.apply(this,arguments)}function nu(){return nu=_(function*(e,r){qr[e]=r,lu(e).set(r)}),nu.apply(this,arguments)}function fu(e,r,{dflt:t={},nullIfEmpty:o=!1}={}){var n,a=f=>{var c=new Proxy(pt.from(f),{get(m,C,P){return C===Symbol.for("vendetta.storage.emitter")?n||(n=new Ea,pt.observe(m,j=>{for(var ne of j)n.emit(ne.type!=="delete"?"SET":"DEL",{path:ne.path,value:ne.value})}),n):Reflect.get(m,C,P)}}),b=()=>u.set(c);pt.observe(c,b),r(c)},u=lu(e);qr[e]?a(qr[e]):u.exists().then(function(){var f=_(function*(c){c?a(qr[e]=yield u.get()):o?a(qr[e]=null):(qr[e]=t,yield u.set(t),a(t))});return function(c){return f.apply(this,arguments)}}())}function tv(e){return au.apply(this,arguments)}function au(){return au=_(function*(e,r={}){return new Promise(t=>fu(e,t,r))}),au.apply(this,arguments)}function vi(e){return iu.apply(this,arguments)}function iu(){return iu=_(function*(e){if(qr[e])return!0;var r=lu(e);return(yield r.exists())?(qr[e]=yield r.get(),!1):!0}),iu.apply(this,arguments)}function ov(e){return su.apply(this,arguments)}function su(){return su=_(function*(e){yield vo(e),delete qr[e]}),su.apply(this,arguments)}function yi(...e){return Promise.all(e.map(r=>r[Xm]))}function cu(e){return qr[e]}var qm,Xm,qr,Ho,Vo=h(()=>{"use strict";s();l();fe();Wi();Wm();_o();ba();qm=Symbol.for("felocord.storage.initError"),Xm=Symbol.for("felocord.storage.promise"),qr={};Ho=(e,r={})=>{var t=new Promise(c=>u=c),o,n,a,u;fu(e,c=>{o=c,n=!0,u()},r);var f=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(c=>[c,(b,...m)=>f()&&Reflect[c](o,...m)])),get(c,b,m){return b===qm?a:b===Xm?t:f()&&Reflect.get(o??c,b,m)}})}});var _i,ht,Go,Jn=h(()=>{"use strict";s();l();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(_i||(_i={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(ht||(ht={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Go||(Go={}))});var Zm={};F(Zm,{default:()=>sv});function Jm(e){return"```js\n"+e.replaceAll("`","`"+iv)+"\n```"}var nv,av,iv,sv,Qm=h(()=>{"use strict";s();l();fe();ge();Jn();Oe();$();se();nv=I("inspect"),av=_(function*(){}).constructor,iv="\u200B";sv=()=>({name:"eval",description:g.COMMAND_EVAL_DESC,shouldHide:()=>N.enableEvalCommand===!0,options:[{name:"code",type:ht.STRING,description:g.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:ht.BOOLEAN,description:g.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return _(function*(){try{var o=nv.inspect(r?.value?yield av(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;vr.sendBotMessage(t.channel.id,Jm(n))}catch(a){vr.sendBotMessage(t.channel.id,Jm(a?.stack??a))}})()}})});var ed={};F(ed,{default:()=>lv});var lv,rd=h(()=>{"use strict";s();l();ge();Jn();ut();$();lv=()=>({name:"debug",description:g.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:ht.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Lr(),o=["**Felocord Debug Info**",`> Felocord: ${t.felocord.version} (${t.felocord.loader.name} ${t.felocord.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?vr.sendBotMessage(r.channel.id,o):vr.sendMessage(r.channel.id,{content:o})}})});var td={};F(td,{default:()=>uv});var uv,od=h(()=>{"use strict";s();l();ge();mt();Jn();$();uv=()=>({name:"plugins",description:g.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:ht.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(U.plugins).filter(Boolean);t.sort((u,f)=>u.manifest.name.localeCompare(f.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),a=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?vr.sendBotMessage(r.channel.id,a):vr.sendMessage(r.channel.id,{content:a})}})});var xi={};F(xi,{patchCommands:()=>du,registerCommand:()=>$o});function du(){var e=Z("getBuiltInCommands",mo,([r],t)=>[...t,...Zn.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__felocord?.shouldHide?.()!==!1)]);return[(Qm(),Ge(Zm)),(rd(),Ge(ed)),(od(),Ge(td))].forEach(r=>$o(r.default())),()=>{Zn=[],e()}}function $o(e){var r;try{r=mo.getBuiltInCommands(Go.CHAT,!0,!1)}catch{r=mo.getBuiltInCommands(Object.values(Go),!0,!1)}r.sort((n,a)=>parseInt(a.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__felocord={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Go.CHAT,e.inputType=_i.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return Tt("execute",e,(n,a)=>{Promise.resolve(a.apply(e,n)).then(u=>{u&&typeof u=="object"&&vr.sendMessage(n[1].channel.id,u)}).catch(u=>{ke.error("Failed to execute command",u)})}),Zn.push(e),()=>Zn=Zn.filter(({id:n})=>n!==e.id)}var Zn,Qn=h(()=>{"use strict";s();l();Jn();ze();tt();$();Zn=[]});var hu={};F(hu,{dispatcher:()=>Si,injectFluxInterceptor:()=>pu,intercept:()=>cv});function pu(){var e=r=>{for(var t of bi){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[fv]=!0):r[nd]=!0)}return nd in r};return(Si._interceptors??=[]).unshift(e),()=>Si._interceptors&&=Si._interceptors.filter(r=>r!==e)}function cv(e){return bi.push(e),()=>{bi=bi.filter(r=>r!==e)}}var nd,fv,Si,bi,gu=h(()=>{"use strict";s();l();$();nd=Symbol.for("felocord.flux.blocked"),fv=Symbol.for("felocord.flux.modified"),Si=Rr,bi=[]});var vu={};F(vu,{fs:()=>Kn});var ad=h(()=>{"use strict";s();l();_o()});var yu={};F(yu,{jsx:()=>Wl});var id=h(()=>{"use strict";s();l();pi()});var _u={};F(_u,{assets:()=>un,commands:()=>xi,debug:()=>qa,flux:()=>hu,native:()=>vu,patcher:()=>to,react:()=>yu,settings:()=>Ba,storage:()=>mu});var xu=h(()=>{"use strict";s();l();ie();Qn();ut();gu();ad();ze();id();Oe();Vo()});function ea(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function sd(e){var r=new Array,t={...window.felocord,api:{...window.felocord.api,patcher:{before:ea(r,to.before),after:ea(r,to.after),instead:ea(r,to.instead)},commands:{...window.felocord.api.commands,registerCommand:ea(r,$o)},flux:{...window.felocord.api.flux,intercept:ea(r,window.felocord.api.flux.intercept)}},plugin:{createStorage:()=>Ho(`plugins/storage/${e}.json`),manifest:xe.get(e),logger:ke}};return{object:t,disposers:r}}var ld=h(()=>{"use strict";s();l();xu();Qn();Vo();tt();xo()});var aa={};F(aa,{apiObjects:()=>Ou,corePluginInstances:()=>ta,deleteRepository:()=>pv,disablePlugin:()=>Bu,enablePlugin:()=>Mu,getId:()=>zo,getPluginSettingsComponent:()=>Fu,initPlugins:()=>Uu,installPlugin:()=>hv,isCorePlugin:()=>Du,isPluginEnabled:()=>Ti,isPluginInstalled:()=>vt,pluginInstances:()=>Xr,pluginRepositories:()=>gt,pluginSettings:()=>Ie,refreshPlugin:()=>dv,registeredPlugins:()=>xe,startPlugin:()=>na,stopPlugin:()=>wi,uninstallPlugin:()=>md,updateAndWritePlugin:()=>ra,updatePlugins:()=>ju,updateRepository:()=>Eu});function Se(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function ud(e,r){if(Lo.gt(e,r))return!0;var t=Lo.coerce(e);return t==null?!1:Lo.prerelease(e)?.includes("dev")&&Lo.eq(t,r)}function oa(e){return"parentRepository"in e}function Du(e){return ta.has(e)}function zo(e){var r=Ei.get(e);return Se(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function Fu(e){var r=Xr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function vt(e){return Ie[e]!=null}function Ti(e){return!!Ie[e]?.enabled}function ra(e,r,t){return Su.apply(this,arguments)}function Su(){return Su=_(function*(e,r,t){var o=yield cd(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield mv(e,`plugins/${r}/index.js`);yield dt(o.jsPath,n)}if(yield uu(`plugins/manifests/${r}.json`,o),xe.has(r)){var a=xe.get(r);return Object.assign(a,o)}return o}),Su.apply(this,arguments)}function dv(e,r){return bu.apply(this,arguments)}function bu(){return bu=_(function*(e,r){var t=xe.get(e);Se(t,e,"refresh a non-registered plugin"),Se(Xr.get(e),e,"refresh a non-started plugin"),wi(e),oa(t)&&(t=yield ra(r??t.parentRepository,e,!0)),xe.delete(e),xe.set(e,t),Ei.set(t,e),yield na(e)}),bu.apply(this,arguments)}function Eu(e){return Tu.apply(this,arguments)}function Tu(){return Tu=_(function*(e){var r=yield cd(e,"repo.json"),t=gt[e],o=!1;if(t)for(var a in t)r[a]||delete t[a];else{for(var n in r)if(ta.has(n))throw new Error(`Plugins can't have the same ID as any of Felocord core plugin '${n}'`);o=!0,gt[e]=r}yield Promise.all(Object.keys(r).map(function(){var b=_(function*(m){if(!t||!t[m]||r[m].alwaysFetch||ud(r[m].version,t[m].version))o=!0,gt[e][m]=r[m],yield ra(e,m,!!(t&&Ie[m]));else{var C=yield vi(`plugins/manifests/${m}.json`);C===void 0&&(yield ra(e,m,!!(t&&Ie[m])))}});return function(m){return b.apply(this,arguments)}}()));for(var u in r){var f=cu(`plugins/manifests/${u}.json`);if(f!==void 0){var c=xe.get(u);c&&!ud(f.version,c.version)||(xe.set(u,f),Ei.set(f,u))}}return o}),Tu.apply(this,arguments)}function pv(e){return wu.apply(this,arguments)}function wu(){return wu=_(function*(e){Se(e!==_n,e,"delete the official repository"),Se(gt[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of xe)!oa(o)||o.parentRepository!==e||(vt(t)&&r.push(md(t)),xe.delete(t));delete gt[e],yield Promise.all(r)}),wu.apply(this,arguments)}function Mu(e,r){return Au.apply(this,arguments)}function Au(){return Au=_(function*(e,r){Se(vt(e),e,"enable a non-installed plugin"),Ie[e].enabled=!0,r&&(yield na(e))}),Au.apply(this,arguments)}function Bu(e){Se(vt(e),e,"disable a non-installed plugin"),Xr.has(e)&&wi(e),Ie[e].enabled=!1}function hv(e,r){return Cu.apply(this,arguments)}function Cu(){return Cu=_(function*(e,r){var t=xe.get(e);Se(t,e,"install an non-registered plugin"),Se(!vt(e),e,"install an already installed plugin"),Se(oa(t),e,"install a core plugin"),yield ra(t.parentRepository,e,!0),Ie[e]={enabled:!0},r&&na(e)}),Cu.apply(this,arguments)}function md(e){return Iu.apply(this,arguments)}function Iu(){return Iu=_(function*(e){var r=xe.get(e);Se(r,e,"uninstall an unregistered plugin"),Se(vt(e),e,"uninstall a non-installed plugin"),Se(oa(r),e,"uninstall a core plugin"),Xr.has(e)&&wi(e),delete Ie[e],yield vo(`plugins/scripts/${e}.js`)}),Iu.apply(this,arguments)}function na(e){return Ru.apply(this,arguments)}function Ru(){return Ru=_(function*(e){var r=xe.get(e);Se(r,e,"start a non-registered plugin"),Se(vt(e),e,"start a non-installed plugin"),Se(Ie[e]?.enabled,e,"start a disabled plugin"),Se(!Xr.has(e),e,"start an already started plugin"),yield vi(`plugins/storage/${e}.json`);var t;if(oa(r)){try{var o=yield Yn(r.jsPath),n=globalEvalWithSourceUrl(`(felocord,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`felocord-plugin/${e}-${r.version}`)}catch(u){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:u})}try{var a=sd(e);if(t=n(a.object,u=>Object.assign(u,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);Ou.set(e,a),Xr.set(e,t)}catch(u){throw new Error("An error occured while instantiating plugin's code",{cause:u})}}else t=ta.get(e),Se(t,e,"start a non-existent core plugin"),Xr.set(e,t);try{t.start?.()}catch(u){throw new Error("An error occured while starting the plugin",{cause:u})}}),Ru.apply(this,arguments)}function wi(e){var r=Xr.get(e);Se(r,e,"stop a non-started plugin"),r.stop?.();var t=Ou.get(e);t?.disposers.forEach(o=>o()),Xr.delete(e)}function gv(){return Pu.apply(this,arguments)}function Pu(){return Pu=_(function*(){try{yield Eu(_n)}catch(e){console.error("Failed to update official plugins repository",e)}yield d(Object.keys(gt).map(function(){var e=_(function*(r){r!==_n&&(yield Eu(r))});return function(r){return e.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}function ju(){return Nu.apply(this,arguments)}function Nu(){return Nu=_(function*(){yield yi(gt,Ie);var e=Bm();for(var r in e){var{default:t,preenabled:o}=e[r];Ie[r]??={enabled:o??!0},xe.set(r,t.manifest),Ei.set(t.manifest,r),ta.set(r,t)}yield gv()}),Nu.apply(this,arguments)}function Uu(){return Lu.apply(this,arguments)}function Lu(){return Lu=_(function*(){yield yi(gt,Ie),yield d([...xe.keys()].map(function(){var e=_(function*(r){Ti(r)&&(yield na(r))});return function(r){return e.apply(this,arguments)}}()))}),Lu.apply(this,arguments)}var ta,xe,Xr,Ou,gt,Ie,Ei,fd,mv,cd,xo=h(()=>{"use strict";s();l();fe();di();_o();Vo();wr();Lt();$();ld();ta=new Map,xe=new Map,Xr=new Map,Ou=new Map,gt=Ho("plugins/repositories.json"),Ie=Ho("plugins/settings.json"),Ei=new WeakMap,fd=(e,r)=>Ye(new URL(r,e),{cache:"no-store"}),mv=(e,r)=>fd(e,r).then(t=>t.text()),cd=(e,r)=>fd(e,r).then(t=>t.json())});var pd={};F(pd,{default:()=>dd});function dd({plugin:e,navigation:r}){return e.usePluginState(),i(st,{children:x(So.ScrollView,{contentContainerStyle:{gap:8,marginBottom:12},children:[x(So.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[x(So.View,{style:{gap:4},children:[i(L,{variant:"heading-xl/semibold",children:e.name}),i(L,{variant:"text-md/medium",color:"text-muted",children:e.description})]}),i(So.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&i(G,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{Ut("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]}),i(So.View,{style:{flexDirection:"row",justifyContent:"center",alignContent:"center"},children:i(L,{variant:"text-lg/medium",children:"Oops, you shouldn't see this!"})})]})})}var So,hd=h(()=>{"use strict";s();l();V();ie();Mo();J();So=k(oe())});function ku(e){return{id:e.id,name:e.name,description:e.description,authors:e.authors,isEnabled:()=>Ti(zo(e)),isInstalled:()=>e.id in Ie,usePluginState(){Xn([Ie])},toggle(r){r?Mu(zo(e),!0):Bu(zo(e))},resolveSheetComponent(){return Promise.resolve().then(()=>(hd(),pd))},getPluginSettingsComponent(){return Fu(zo(e))}}}var gd=h(()=>{"use strict";s();l();xo();Vo()});var yd={};F(yd,{default:()=>vd});function vd({plugin:e,navigation:r}){e.usePluginState();var t=U.plugins[e.id],o=e.getPluginSettingsComponent();return i(st,{children:x(ia.ScrollView,{children:[x(ia.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[i(L,{variant:"heading-xl/semibold",children:e.name}),i(ia.View,{style:{marginLeft:"auto"},children:o&&i(G,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{Ut("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),x(Ft.Group,{children:[i(Ft,{label:g.REFETCH,icon:i(w.Icon,{source:y("RetryIcon")}),onPress:_(function*(){t.enabled&&U.stopPlugin(e.id,!1);try{yield U.fetchPlugin(e.id),z(g.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{z(g.PLUGIN_REFETCH_FAILED,y("Small"))}t.enabled&&(yield U.startPlugin(e.id)),Ut("PluginInfoActionSheet")})}),i(Ft,{label:g.COPY_URL,icon:i(w.Icon,{source:y("copy")}),onPress:()=>{Fe.setString(e.id),z.showCopyToClipboard()}}),i(Ft,{label:t.update?g.DISABLE_UPDATES:g.ENABLE_UPDATES,icon:i(w.Icon,{source:y("ic_download_24px")}),onPress:()=>{t.update=!t.update,z(lr("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),y("toast_image_saved"))}}),i(Ft,{label:g.CLEAR_DATA,icon:i(w.Icon,{source:y("ic_duplicate")}),onPress:()=>Mr({title:g.HOLD_UP,content:lr("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:g.CLEAR,cancelText:g.CANCEL,confirmColor:"red",onConfirm:_(function*(){t.enabled&&U.stopPlugin(e.id,!1);try{yield U.fetchPlugin(e.id),z(g.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{z(g.PLUGIN_REFETCH_FAILED,y("Small"))}var n;try{Pa(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}z(lr(n[0],{name:e.name}),y(n[1])),t.enabled&&(yield U.startPlugin(e.id)),Ut("PluginInfoActionSheet")})})}),i(Ft,{label:g.DELETE,icon:i(w.Icon,{source:y("ic_message_delete")}),onPress:()=>Mr({title:g.HOLD_UP,content:lr("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{try{U.removePlugin(e.id)}catch(n){z(String(n),y("Small"))}Ut("PluginInfoActionSheet")}})})]})]})})}var ia,_d=h(()=>{"use strict";s();l();fe();V();ge();ko();mt();he();ie();$();J();Mo();Pr();ia=k(oe())});function Hu(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&U.plugins[e.id]),usePluginState(){K(U.plugins[e.id])},toggle(r){r?U.startPlugin(e.id):U.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(_d(),yd))},getPluginSettingsComponent(){return U.getSettings(e.id)}}}var xd=h(()=>{"use strict";s();l();mt();he()});var Td={};F(Td,{default:()=>Ed});function yv(e){var r=e.useItems();return i(ho,{CardComponent:Gl,title:g.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:g.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function Ed(){K(N);var e=de.useNavigation();return i(yv,{useItems:()=>{K(U.plugins),Xn([Ie]);var r=Object.values(U.plugins).map(Hu),t=[...xe.values()].filter(o=>vt(o.id)&&!Du(o.id)).map(ku);return[...r,...t]},ListHeaderComponent:()=>{var r=Object.values(U.plugins).filter(t=>!t.id.startsWith(Tr)&&!t.id.startsWith(io));return r.length?i(Yo.View,{style:{marginVertical:12,marginHorizontal:10},children:i(ve,{border:"strong",children:x(Yo.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[x(Yo.View,{style:{gap:6,flexShrink:1},children:[i(L,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),i(L,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),i(Yo.View,{style:{marginLeft:"auto"},children:i(Ce,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>i(Ln,{data:r,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>i(Yo.View,{style:{height:8}}),renderItem:({item:t})=>i(ve,{children:i(L,{variant:"heading-md/semibold",children:t.id})})})})}})})]})})}):null},installAction:{label:"Install a plugin",fetchFn:function(){var r=_(function*(t){if(!t.startsWith(Tr)&&!t.startsWith(io)&&!N.developerSettings)Sd("felocord-plugin-unproxied-confirmation",i(bd,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:i(ve,{children:i(L,{variant:"text-md/bold",children:t})}),actions:x(vv,{children:[i(Vu,{text:"Continue",variant:"primary",onPress:()=>{U.installPlugin(t).then(()=>z(g.TOASTS_INSTALLED_PLUGIN,y("Check"))).catch(o=>Sd("felocord-plugin-install-failed",i(bd,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:i(ve,{children:i(L,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:i(Vu,{text:"Okay",variant:"primary"})})))}}),i(Vu,{text:"Cancel",variant:"secondary"})]})}));else return yield U.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var Yo,Sd,bd,vv,Vu,wd=h(()=>{"use strict";s();l();fe();V();ge();fi();xm();mt();he();xo();ie();Oe();Vo();Pr();Lt();Le();ft();$();J();Yo=k(oe());gd();xd();({openAlert:Sd}=Y(()=>H("openAlert","dismissAlert"))),{AlertModal:bd,AlertActions:vv,AlertActionButton:Vu}=Y(()=>H("AlertModal","AlertActions"))});function Gu(e){var r=Sv();return i(ve,{children:x(ce,{spacing:16,children:[x(bo.View,{style:{flexDirection:"row",alignItems:"center"},children:[x(bo.View,{style:r.headerLeading,children:[i(L,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&i(L,{style:r.headerSubtitle,children:e.headerSublabel})]}),x(bo.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[x(bo.View,{style:r.actions,children:[e.overflowActions&&i(Ce,{onPress:()=>xv({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&i(Yr.Icon,{style:{marginRight:8},source:y(e.headerIcon)}),onClose:()=>_v()},options:e.overflowActions?.map(t=>({...t,icon:y(t.icon)}))}),size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>i(Ce,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:y(t)}))]}),e.toggleType&&(e.toggleType==="switch"?i(nl,{value:e.toggleValue(),onValueChange:e.onToggleChange}):i(bo.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:i(al,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&i(L,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var bo,_v,xv,Sv,Ad=h(()=>{"use strict";s();l();V();ie();Le();J();se();Do();Kr();bo=k(oe()),{hideActionSheet:_v}=Y(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:xv}=Y(()=>H("showSimpleActionSheet")),Sv=Or({card:{backgroundColor:Ze?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...ct["heading-md/semibold"],color:Ze.TEXT_NORMAL},headerSubtitle:{...ct["text-md/semibold"],color:Ze.TEXT_MUTED},descriptionLabel:{...ct["text-md/semibold"],color:Ze.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:Ze.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Cd(e,r){try{nt(e?r:null),bn(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function $u({item:e}){K(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return i(Gu,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:N.safeMode?.enabled?void 0:"radio",toggleValue:()=>le[e.id].selected,onToggleChange:n=>{Cd(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:g.REFETCH,onPress:()=>{uo(e.id,e.selected).then(()=>{z(g.THEME_REFETCH_SUCCESSFUL,y("toast_image_saved"))}).catch(()=>{z(g.THEME_REFETCH_FAILED,y("Small"))})}},{icon:"copy",label:g.COPY_URL,onPress:()=>{Fe.setString(e.id),z.showCopyToClipboard()}},{icon:"ic_message_delete",label:g.DELETE,isDestructive:!0,onPress:()=>Mr({title:g.HOLD_UP,content:lr("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{fo(e.id).then(n=>{t(!0),n&&Cd(!1,e)}).catch(n=>{z(n.message,y("Small"))})}})}]})}var Id=h(()=>{"use strict";s();l();V();ge();Ad();ko();he();sr();ie();Oe();$();Pr()});var Pd={};F(Pd,{default:()=>Rd});function Rd(){return K(N),K(le),i(ho,{title:g.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")],sortOptions:{"Name (A-Z)":(e,r)=>e.name.localeCompare(r.name),"Name (Z-A)":(e,r)=>r.name.localeCompare(e.name)},installAction:{label:"Install a theme",fetchFn:ot},items:Object.values(le),safeModeHint:{message:lr("SAFE_MODE_NOTICE_THEMES",{enabled:!!N.safeMode?.currentThemeId}),footer:N.safeMode?.currentThemeId&&i(G,{size:"small",text:g.DISABLE_THEME,onPress:()=>delete N.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:$u})}var Nd=h(()=>{"use strict";s();l();V();ge();fi();Id();he();sr();Oe();J()});var ua={};F(ua,{fonts:()=>ue,installFont:()=>bv,removeFont:()=>Ai,saveFont:()=>Ko,selectFont:()=>la,updateFonts:()=>Ju,validateFont:()=>sa});function Ld(e){return zu.apply(this,arguments)}function zu(){return zu=_(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield dt("fonts.json",JSON.stringify(e)):yield vo("fonts.json")}),zu.apply(this,arguments)}function sa(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in ue)throw new Error(`There is already a font named '${e.name}' installed`)}function Ko(e){return Yu.apply(this,arguments)}function Yu(){return Yu=_(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield Ye(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;sa(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=_(function*([n,a]){var u=a.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var f=`downloads/fonts/${t.name}/${n}.${u}`;(yield yo(f))||(yield tu(a,f))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return ue[t.name]=t,r&&Ld(ue[t.name]),t}),Yu.apply(this,arguments)}function bv(e){return Ku.apply(this,arguments)}function Ku(){return Ku=_(function*(e,r=!1){if(typeof e!="string"||Object.values(ue).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield Ko(e);r&&(yield la(t.name))}),Ku.apply(this,arguments)}function la(e){return Wu.apply(this,arguments)}function Wu(){return Wu=_(function*(e){if(e&&!(e in ue))throw new Error("Selected font does not exist!");e?ue.__selected=e:delete ue.__selected,yield Ld(e==null?null:ue[e])}),Wu.apply(this,arguments)}function Ai(e){return qu.apply(this,arguments)}function qu(){return qu=_(function*(e){var r=ue.__selected===e;r&&(yield la(null)),delete ue[e];try{yield ru(`downloads/fonts/${e}`)}catch{}}),qu.apply(this,arguments)}function Ju(){return Xu.apply(this,arguments)}function Xu(){return Xu=_(function*(){yield Nt(ue),yield d(Object.keys(ue).map(e=>Ko(ue[e],ue.__selected===e)))}),Xu.apply(this,arguments)}var ue,Eo=h(()=>{"use strict";s();l();fe();he();_o();wr();ue=br(ir(Er("BUNNY_FONTS")))});function Ev(e){var r=e.map(o=>{var{pathname:n}=new URL(o),a=n.replace(/\.[^/.]+$/,"");return a.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function Tv({fonts:e,setName:r}){var t=Fa().data,o=t.fonts,[n,a]=(0,Re.useState)(Ev(Object.values(o))),[u,f]=(0,Re.useState)(void 0);return x(yt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(We,{autoFocus:!0,size:"md",label:g.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:a,errorMessage:u,state:u?"error":void 0}),i(L,{variant:"text-xs/normal",color:"text-muted",children:lr("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(g.SEPARATOR)})}),i(G,{size:"md",variant:"primary",text:g.EXTRACT,disabled:!n,onPress:()=>{if(n)try{sa({spec:1,name:n,main:o}),r(n),Object.assign(e,o),Qu.hideActionSheet()}catch(c){f(String(c))}}})]})}function wv({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Re.useState)(""),[a,u]=(0,Re.useState)(!1),[f,c]=(0,Re.useState)(void 0);return x(yt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(We,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:f,state:f?"error":void 0}),i(G,{size:"md",variant:"primary",text:"Import",disabled:!o||a,loading:a,onPress:()=>{u(!0),_(function*(){var b=yield Ye(o,{cache:"no-store"}),m=yield b.json();sa(m),r(m.name),t(o),Object.assign(e,m.main)})().then(()=>Qu.hideActionSheet()).catch(b=>c(String(b))).finally(()=>u(!1))}})]})}function Av(e){var[r,t]=(0,Re.useState)(e.name),[o,n]=(0,Re.useState)(e.fontEntries[e.name]);return x(yt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(We,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),i(We,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),i(G,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function Zu(e,r,t){Qu.openLazy(Promise.resolve({default:()=>i(pe,{children:x(st,{children:[i(sl,{title:"Import Font"}),i(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function Cv({fontEntry:e}){var r=(0,Re.useRef)(),t=(0,Re.useRef)(),[o,n]=(0,Re.useState)(!1),[a,u]=(0,Re.useState)();return x(yt.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[i(yt.View,{style:{flex:1},children:i(We,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:i(w.Icon,{source:y("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:f=>(o?t:r).current=f,errorMessage:a,state:a?"error":void 0})}),o&&i(Ce,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:y("TrashIcon")}),i(Ce,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var f=new URL(t.current);if(!f.protocol||!f.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(c){u(String(c))}},icon:y(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function fa(e){var[r,t]=(0,Re.useState)(e.name),[o,n]=(0,Re.useState)(),[a,u]=(0,Re.useState)(!1),f=(0,Re.useMemo)(()=>yn(e.name?{...ue[e.name].main}:{}).proxy,[e.name]),c=K(f),b=de.useNavigation();return i(yt.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(ce,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?x(De,{title:"Actions",children:[i(w,{label:"Refetch fonts from source",icon:i(w.Icon,{source:y("RetryIcon")}),onPress:_(function*(){var m={...ue[e.name]};yield Ai(e.name),yield Ko(m),b.goBack()})}),i(w,{label:"Delete font pack",icon:i(w.Icon,{source:y("TrashIcon")}),onPress:()=>Ai(e.name).then(()=>b.goBack())})]}):x(De,{title:"Import",children:[Fa()?.data?.fonts&&i(w,{label:g.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:g.DESC_EXTRACT_FONTS_FROM_THEME,icon:i(w.Icon,{source:y("HammerIcon")}),onPress:()=>Zu(Tv,c,{setName:t})}),i(w,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:i(w.Icon,{source:y("LinkIcon")}),onPress:()=>Zu(wv,c,{setName:t,setSource:n})})]}),i(We,{size:"lg",value:r,label:g.FONT_NAME,placeholder:"Whitney",onChange:t}),x(De,{title:"Font Entries",children:[Object.entries(c).map(([m,C])=>i(w,{label:m,subLabel:C,trailing:x(ce,{spacing:2,direction:"horizontal",children:[i(Ce,{size:"sm",variant:"secondary",icon:y("PencilIcon"),onPress:()=>Zu(Av,c,{name:m,fontEntries:c})}),i(Ce,{size:"sm",variant:"secondary",icon:y("TrashIcon"),onPress:()=>delete c[m]})]})})),i(w,{label:i(Cv,{fontEntry:c})})]}),i(yt.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:i(G,{size:"lg",loading:a,disabled:a||!r||Object.keys(c).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:_(function*(){r&&(u(!0),e.name?(Object.assign(ue[e.name],{name:r,main:c,__edited:!0}),u(!1),b.goBack()):Ko({spec:1,name:r,main:c,__source:o}).then(()=>b.goBack()).finally(()=>u(!1)))}),icon:y(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Re,yt,Qu,ef=h(()=>{"use strict";s();l();fe();V();ge();he();Eo();sr();ie();wr();$();J();se();yr();Re=k(Wr()),yt=k(oe()),Qu=I("hideActionSheet")});var Dd=jr((yN,Od)=>{s();l();Od.exports=Pt()["@shopify/react-native-skia"]});function Rv({font:e}){var r=Iv(lt.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=ct["text-md/medium"],n=t.split(/,/g)[0],a=qo.useFont(e.main[n])?.getTypeface(),u=(0,Fd.useMemo)(()=>{if(!a)return null;var f=SkiaApi.TypefaceFontProvider.Make();return f.registerFont(a,n),SkiaApi.ParagraphBuilder.Make({},f).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return i(Wo.View,{style:{height:64},children:a?i(qo.Canvas,{style:{height:64},children:i(qo.Paragraph,{paragraph:u,x:0,y:0,width:300})}):i(Wo.View,{style:{justifyContent:"center",alignItems:"center"},children:i(L,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function rf({item:e}){K(ue);var r=de.useNavigation(),t=ue.__selected===e.name;return i(ve,{children:x(ce,{spacing:16,children:[x(Wo.View,{style:{flexDirection:"row",alignItems:"center"},children:[i(Wo.View,{children:i(L,{variant:"heading-lg/semibold",children:e.name})}),i(Wo.View,{style:{marginLeft:"auto"},children:x(ce,{spacing:12,direction:"horizontal",children:[i(Ce,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>i(fa,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:y("PencilIcon")}),i(G,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:_(function*(){yield la(t?null:e.name),Mr({title:g.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:g.RELOAD,cancelText:g.CANCEL,confirmColor:"red",onConfirm:Qt.reload})})})]})})]}),i(Rv,{font:e})]})})}var qo,Fd,Wo,Iv,Md=h(()=>{"use strict";s();l();fe();V();ge();ko();he();Eo();ie();rt();Le();ft();$();J();qo=k(Dd());Kr();Fd=k(Wr()),Wo=k(oe());ef();({useToken:Iv}=Y(()=>H("useToken")))});var jd={};F(jd,{default:()=>Bd});function Bd(){K(N),K(ue);var e=de.useNavigation();return i(ho,{title:g.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(ue),safeModeHint:{message:g.SAFE_MODE_NOTICE_FONTS},CardComponent:rf,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>i(fa,{})})}}})}var Ud=h(()=>{"use strict";s();l();V();ge();fi();ef();he();Eo();Oe();$();Md()});function kd(e,r){var[t,o]=(0,Xo.useState)(2),n=()=>yo(e,r).then(u=>o(u?1:0)).catch(()=>o(3)),a=(0,Xo.useMemo)(()=>new Proxy(Kn,{get(u,f,c){var b=Reflect.get(u,f,c);if(typeof b=="function")return(...m)=>{var C=(n(),b(...m));return C?.constructor?.name==="Promise"&&(o(2),C.finally(n)),C}}}),[]);return(0,Xo.useEffect)(()=>void n(),[]),[t,a]}var Xo,Jr,Hd=h(()=>{"use strict";s();l();_o();Xo=k(Wr());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Jr||(Jr={}))});function tf({asset:e}){return i(Yr,{label:`${e.name} - ${e.id}`,trailing:i(Vd.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{Fe.setString(e.name),z.showCopyToClipboard()}})}var Vd,Gd=h(()=>{"use strict";s();l();V();$();J();Pr();Vd=k(oe())});function of(){var[e,r]=React.useState("");return i(pe,{children:x(Ci.View,{style:{flex:1},children:[i(Ht,{style:{margin:10},onChangeText:t=>r(t)}),i(Ci.FlatList,{data:Object.values(wt).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>i(tf,{asset:t}),ItemSeparatorComponent:Pn,keyExtractor:t=>t.name})]})})}var Ci,$d=h(()=>{"use strict";s();l();V();Gd();ie();J();yr();Ci=k(oe())});var Yd={};F(Yd,{default:()=>zd});function zd(){var[e,r]=kd("preloads/reactDevtools.js"),t=Ov(),o=de.useNavigation();return K(N),K(hr),i(pe,{children:i(Ii.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(ce,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(We,{label:g.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>i(Nn,{style:t.leadingText,children:"ws://"}),defaultValue:N.debuggerUrl,onChange:n=>N.debuggerUrl=n}),x(De,{title:g.DEBUG,children:[i(w,{label:g.CONNECT_TO_DEBUG_WEBSOCKET,icon:i(w.Icon,{source:y("copy")}),onPress:()=>jn(N.debuggerUrl)}),En()&&i(gr,{children:i(w,{label:g.CONNECT_TO_REACT_DEVTOOLS,icon:i(w.Icon,{source:y("ic_badge_staff")}),onPress:()=>window[oc()||"__vendetta_rdc"]?.connectToDevTools({host:N.debuggerUrl.split(":")?.[0],resolveRNStyle:Ii.StyleSheet.flatten})})})]}),js()&&i(gr,{children:x(De,{title:"Loader config",children:[i(Mt,{label:g.LOAD_FROM_CUSTOM_URL,subLabel:g.LOAD_FROM_CUSTOM_URL_DEC,icon:i(w.Icon,{source:y("copy")}),value:hr.customLoadUrl.enabled,onValueChange:n=>{hr.customLoadUrl.enabled=n}}),hr.customLoadUrl.enabled&&i(w,{label:i(We,{defaultValue:hr.customLoadUrl.url,size:"md",onChange:n=>hr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:g.BUNNY_URL})}),En()&&Je()&&i(Mt,{label:g.LOAD_REACT_DEVTOOLS,subLabel:`${g.VERSION}: ${nc()}`,icon:i(w.Icon,{source:y("ic_badge_staff")}),value:hr.loadReactDevTools,onValueChange:n=>{hr.loadReactDevTools=n}})]})}),x(De,{title:"Other",children:[i(w,{arrow:!0,label:g.ASSET_BROWSER,icon:i(w.Icon,{source:y("ic_image")}),trailing:w.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:g.ASSET_BROWSER,render:of})}),i(w,{arrow:!0,label:g.ERROR_BOUNDARY_TOOLS_LABEL,icon:i(w.Icon,{source:y("ic_warning_24px")}),onPress:()=>Nv({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:i(w.Icon,{style:{marginRight:8},source:y("ic_warning_24px")}),onClose:()=>Pv()},options:[{label:g.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>i("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),i(w,{label:g.INSTALL_REACT_DEVTOOLS,subLabel:g.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:i(w.Icon,{source:y("DownloadIcon")}),trailing:i(G,{size:"sm",loading:e===Jr.LOADING,disabled:e===Jr.LOADING,variant:e===Jr.TRUE?"secondary":"primary",text:e===Jr.TRUE?g.UNINSTALL:g.INSTALL,onPress:_(function*(){e===Jr.FALSE?r.downloadFile(Lv,"preloads/reactDevtools.js"):e===Jr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:y(e===Jr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),i(Mt,{label:g.ENABLE_EVAL_COMMAND,subLabel:g.ENABLE_EVAL_COMMAND_DESC,icon:i(w.Icon,{source:y("PencilIcon")}),value:N.enableEvalCommand,onValueChange:n=>{N.enableEvalCommand=n}})]})]})})})}var Ii,Pv,Nv,Lv,Ov,Kd=h(()=>{"use strict";s();l();fe();V();ge();Hd();$d();he();ie();ut();Gr();Oe();Le();$();J();se();Do();yr();Kr();Ii=k(oe()),{hideActionSheet:Pv}=Y(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:Nv}=Y(()=>H("showSimpleActionSheet")),Lv="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",Ov=Or({leadingText:{...ct["heading-md/semibold"],color:Ze.TEXT_MUTED,marginRight:-4}})});function nf(){ni({name:"Felocord",items:[{key:"BUNNY",title:()=>g.BUNNY,icon:{uri:ri},render:()=>Promise.resolve().then(()=>(cm(),fm)),useTrailing:()=>"(6c624f4-main)"},{key:"BUNNY_PLUGINS",title:()=>g.PLUGINS,icon:y("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(wd(),Td))},{key:"BUNNY_THEMES",title:()=>g.THEMES,icon:y("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Nd(),Pd)),usePredicate:()=>Cr()},{key:"BUNNY_FONTS",title:()=>g.FONTS,icon:y("ic_add_text"),render:()=>Promise.resolve().then(()=>(Ud(),jd)),usePredicate:()=>sc()},{key:"BUNNY_DEVELOPER",title:()=>g.DEVELOPER,icon:y("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Kd(),Yd)),usePredicate:()=>K(N).developerSettings??!1}]}),ni({name:"Vendetta",items:[]})}var kl=h(()=>{"use strict";s();l();tm();ge();he();ie();Gr();Oe();jo()});var qd=jr((VL,Wd)=>{s();l();Wd.exports=Pt().lodash});var Jd=jr((zL,Xd)=>{s();l();Xd.exports=Pt().util});var Ri,Zd,Qd,ep=h(()=>{"use strict";s();l();V();ko();he();he();sr();ie();Qn();ut();Gr();ze();Oe();wr();xs();tt();ft();$();J();J();Do();yr();Kr();Pr();ba();Ri=k(Wr()),Zd=k(oe());mt();Qd=()=>{var e=t=>o=>t(mn.createSimpleFilter(o,Hf(new Error().stack))),r=window.vendetta={patcher:{before:an.before,after:an.after,instead:an.instead},metro:{modules:window.modules,find:e(Ne),findAll:e(Rt),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=H(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=H("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:a})=>((0,Ri.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Ri.createElement)(Zd.View,null,a))}}return o},findByPropsAll:(...t)=>ts(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?Io("create",!1).default:Io(t,o??!0),findByNameAll:(t,o=!0)=>os(t,o),findByDisplayName:(t,o=!0)=>ns(t,o),findByDisplayNameAll:(t,o=!0)=>is(t,o),findByTypeName:(t,o=!0)=>ss(t,o),findByTypeNameAll:(t,o=!0)=>ls(t,o),findByStoreName:t=>us(t),common:{constants:Ir,channels:On,i18n:Bt,url:jt,toasts:Dn,stylesheet:{createThemedStyleSheet:bl},clipboard:Fe,assets:fl,invites:cl,commands:mo,navigation:ml,navigationStack:dl,NavigationNative:de,Flux:pl,FluxDispatcher:Rr,React:Fn,ReactNative:za,moment:Fl(),chroma:Oa(),lodash:qd(),util:Jd()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>pr(t,o),findInTree:(t,o,n)=>so(t,o,n),safeFetch:(t,o,n)=>Ye(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>Hi(t,o)},debug:{connectToDebugger:t=>jn(t),getDebugInfo:()=>Lr()},ui:{components:{Forms:Va,General:za,Alert:Cn,Button:Qs,HelpMessage:(...t)=>i(In,{...t}),SafeAreaView:(...t)=>i(Rn,{...t}),Summary:$n,ErrorBoundary:pe,Codeblock:Dr,Search:Ht},toasts:{showToast:(t,o)=>z(t,o)},alerts:{showConfirmationAlert:t=>Mr(t),showCustomAlert:(t,o)=>zl(t,o),showInputAlert:t=>Am(t)},assets:{all:wt,find:t=>ln(t),getAssetByName:t=>ln(t),getAssetByID:t=>ln(t),getAssetIDByName:t=>y(t)},semanticColors:Ze,rawColors:Rc},plugins:{plugins:U.plugins,fetchPlugin:t=>U.fetchPlugin(t),installPlugin:(t,o=!0)=>U.installPlugin(t,o),startPlugin:t=>U.startPlugin(t),stopPlugin:(t,o=!0)=>U.stopPlugin(t,o),removePlugin:t=>U.removePlugin(t),getSettings:t=>U.getSettings(t)},themes:{themes:le,fetchTheme:(t,o)=>uo(t,o),installTheme:t=>ot(t),selectTheme:t=>nt(t==="default"?null:le[t]),removeTheme:t=>fo(t),getCurrentTheme:()=>Dt(),updateThemes:()=>Da()},commands:{registerCommand:$o},storage:{createProxy:t=>yn(t),useProxy:t=>K(t),createStorage:t=>ir(t),wrapSync:t=>br(t),awaitSyncWrapper:t=>Nt(t),createMMKVBackend:t=>Er(t),createFileBackend:t=>(we()&&t==="vendetta_theme.json"&&(t="felitendo/current-theme.json"),ao(t))},settings:N,loader:{identity:Ms()??void 0,config:hr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:Mn,unload:()=>{delete window.vendetta}};return()=>r.unload()}});var rp=h(()=>{"use strict";s();l()});var tp=h(()=>{"use strict";s();l()});var af={};F(af,{components:()=>Qa,settings:()=>jl,sheets:()=>Tl,styles:()=>El,toasts:()=>Ka});var op=h(()=>{"use strict";s();l();yr();jo();Mo();Kr();Pr()});var sf={};F(sf,{_jsx:()=>Js,api:()=>_u,fonts:()=>ua,managers:()=>Dv,metro:()=>Xa,plugins:()=>aa,themes:()=>co,ui:()=>af,unload:()=>ca,utils:()=>La});function ca(){for(var e of np)typeof e=="function"&&e();delete window.felocord}var Dv,np,ap=h(()=>{"use strict";s();l();rp();tp();Eo();xo();sr();xu();op();wr();ft();Eo();xo();sr();V();Le();Dv=Ee(()=>(console.warn("felocord.managers.* is deprecated, and moved the top level (felocord.*). felocord.managers will be eventually removed soon"),{get fonts(){return ua},get plugins(){return aa},get themes(){return co}}),{hint:"object"}),np=[];ca.push=e=>{np.push(e)}});var ip={};F(ip,{default:()=>Mv});function Fv(){if(Cr())try{we()&&dt("../vendetta_theme.json","null"),Fs()}catch(e){console.error("Failed to initialize themes",e)}}var Mv,sp=h(()=>{"use strict";s();l();fe();Xc();rm();ge();kl();ep();mt();Eo();xo();sr();Qn();ut();gu();_o();Gr();pi();tt();jo();ap();Mv=_(function*(){Fv(),yield Promise.all([pu(),Bl(),vl(),du(),Ds(),Kl(),Qd(),Cc(),nf(),em(),Dl(),ju()]).then(e=>e.forEach(r=>r&&ca.push(r))),window.felocord=sf,U.initPlugins().then(e=>ca.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),Uu(),Ju(),ke.log("Felocord is ready!")})});s();l();fe();var{instead:Bv}=va();globalThis.window=globalThis;function lp(){return lf.apply(this,arguments)}function lf(){return lf=_(function*(){try{Object.freeze=Object.seal=Object,yield(no(),Ge(xc)).initMetroCache(),yield(sp(),Ge(ip)).default()}catch(t){var{ClientInfoManager:e}=(rt(),Ge(hf)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Felocord!
`,`Build Number: ${e.Build}`,"Felocord: 6c624f4-main",r||t?.toString?.()].join(`
`))}}),lf.apply(this,arguments)}if(typeof globalThis.__r<"u")lp();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=Bv("callFunctionReturnFlushedQueue",t,(u,f)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):f.apply(t,u)),a=function(){var u=_(function*(){yield lp(),n(),r(0),o.forEach(f=>t.getCallableModule(f[0])&&t.__callFunction(...f))});return function(){return u.apply(this,arguments)}}();a()};jv=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Pi,set(r){Pi=function(o){if(o===0)e(r),Pi=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Pi,jv;})();
//# sourceURL=felocord
